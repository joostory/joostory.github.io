{"pageProps":{"post":{"id":"384","date":"2015. 9. 12. 14:21","title":"티스토리 disqus 적용 방법","content":"<p style=\"text-align: center; clear: none; float: none;\"><span class=\"imageblock\" style=\"display: inline-block; width: 300px;\"><img style=\"max-width: 100%; height: auto;\" src=\"https://t1.daumcdn.net/cfile/tistory/270F304955F3F0D302\" width=\"300\" height=\"300\"></span></p>\n<p>&nbsp;</p>\n<p>티스토리에는 댓글기능이 있지만 회원만 댓글을 작성할 수 있고 비회원 댓글 기능이 있지만 스팸의 두려움을 안고 있어야 한다. 그래서 소셜 댓글 서비스를 이거저거 알아봤는데 <a href=\"https://disqus.com\">disqus</a>가 제일 알맞아보인다. 일단 적용은 했는데 좀 더 깔끔하게 적용해보고 싶어서 좀 알아봤다.</p>\n<h2>comment</h2>\n<p>댓글을 적용하는 방법은 다음의 코드를 원하는 곳에 넣으면 된다. 그런데 여러 개를 동시에 넣을 때 문제가 된다. 물론 동시에 여러개가 나오지 않도록 만들면 되지만 티스토리는 여러개의 글이 동시에 보이는 곳도 있으니 <code>page.url</code> 혹은 <code>page.identifier</code> 를 설정해 주어야 한다. 설정하지 않으면 location.href 값을 사용한다. 아무래도 반드시 설정하는 것이 좋겠다.<br></p>\n<p>자세한 내용은 <a href=\"https://help.disqus.com/customer/portal/articles/472098-javascript-configuration-variables\">disqus 도움말</a>에서 볼 수 있다.</p>\n<pre><code>&lt;div id=\"disqus_thread\"&gt;&lt;/div&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n  /* 도메인이 바뀌고 parameter가 붙어도 문제 없도록 identifier를 '&#91;&#35;&#35;_article_rep_id_&#35;&#35;&#93;'로 설정한다. */\n  var disqus_config = function () {\n    this.page.identifier = '&#91;&#35;&#35;_article_rep_id_&#35;&#35;&#93;';\n  };\n  \n\n  (function() {\n    var d = document, s = d.createElement('script');\n    s.src = 'https://SHORTNAME.disqus.com/embed.js';\n    s.setAttribute('data-timestamp', +new Date());\n    (d.head || d.body).appendChild(s);\n  })();\n&lt;/script&gt;</code></pre>\n<h2>comment count</h2>\n<p>count는 티스토리 글 리스트에서 사용할 수 있다. 리스트에 링크가 있는 것 혹은 없는 것 두가지 중 한가지를 선택해서 사용할 수 있다.</p>\n<p>자세한 내용은 <a href=\"https://help.disqus.com/customer/portal/articles/565624-tightening-your-disqus-integration\">disqus 도움말</a>에서 볼 수 있다.</p>\n<pre><code>// 링크를 위한 count\n&lt;a href=\"&#91;&#35;&#35;_article_rep_link_&#35;&#35;&#93;#disqus_thread\" data-disqus-identifier=\"&#91;&#35;&#35;_article_rep_link_&#35;&#35;&#93;\"&gt;Comments&lt;/a&gt;\n\n// 링크 없는 count\n&lt;span class=\"disqus-comment-count\" data-disqus-identifier=\"&#91;&#35;&#35;_article_rep_link_&#35;&#35;&#93;\"&gt;Comments&lt;/span&gt;\n\n// &lt;/body&gt; 바로 앞에 넣는다.\n&lt;script id=\"dsq-count-scr\" src=\"//SHORTNAME.disqus.com/count.js\" async&gt;&lt;/script&gt;</code></pre>\n<p>&nbsp;</p>            ","summary":"\n&nbsp;\n티스토리에는 댓글기능이 있지만 회원만 댓글을 작성할 수 있고 비회원 댓글 기능이 있지만 스팸의 두려움을 안고 있어야 한다. 그래서 소셜 댓글 서비스를 이거저거 알아봤는데 disqus가 제일 알맞아보인다. 일단 적용은 했는데 좀 더 깔끔하게 적용해보고 싶어서 좀 알아봤다.\ncomment\n댓글을 적용하는 방법은 다음의 코드를 원하는 곳에 넣으면 된다. 그런데 여러 개를 동시에 넣을 때 문제가 된다. 물론 동시에 여러개가 나오지 않도록 만들면 ","image":"https://img1.daumcdn.net/thumb/R800x0/?scode=mtistory2&fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F270F304955F3F0D302"}},"__N_SSG":true}