<!DOCTYPE html><html lang="ko"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="shortcut icon" href="/favicon.ico"/><meta name="description" content="JooStory.net"/><meta property="og:image" content="https://og-image.vercel.app/Next.js%20Blog%20Starter%20Example.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg"/><link rel="canonical" href="https://blog.joostory.net/55"/><title>prototype으로 정의한 method에 setTimeout 설정하기.</title><meta property="og:type" content="article"/><meta property="og:title" content="prototype으로 정의한 method에 setTimeout 설정하기."/><meta property="og:description" content="javascript 삼매경에 빠져있다.
processForm=function(inservleturl) {&amp;nbsp; &amp;nbsp; this.inservleturl = inservleturl;&amp;nbsp; &amp;nbsp; this.submitForm();
}

processForm.prototype.submitForm2=function() {
}

processForm.prototype.submitForm=function() {&amp;nbsp; &amp;nbsp; setTi"/><meta property="og:image" content="https://t1.daumcdn.net/tistory_admin/static/images/openGraph/opengraph.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="prototype으로 정의한 method에 setTimeout 설정하기."/><meta name="twitter:description" content="javascript 삼매경에 빠져있다.
processForm=function(inservleturl) {&amp;nbsp; &amp;nbsp; this.inservleturl = inservleturl;&amp;nbsp; &amp;nbsp; this.submitForm();
}

processForm.prototype.submitForm2=function() {
}

processForm.prototype.submitForm=function() {&amp;nbsp; &amp;nbsp; setTi"/><meta property="twitter:image" content="https://t1.daumcdn.net/tistory_admin/static/images/openGraph/opengraph.png"/><meta name="next-head-count" content="15"/><link rel="preload" href="/_next/static/css/11ae7950df9656c6.css" as="style"/><link rel="stylesheet" href="/_next/static/css/11ae7950df9656c6.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-69bfa6990bb9e155.js" defer=""></script><script src="/_next/static/chunks/framework-fc97f3f1282ce3ed.js" defer=""></script><script src="/_next/static/chunks/main-f4ae3437c92c1efc.js" defer=""></script><script src="/_next/static/chunks/pages/_app-f76bbe1730ea85a1.js" defer=""></script><script src="/_next/static/chunks/494-fa03e5491fc3b3a9.js" defer=""></script><script src="/_next/static/chunks/pages/tistory/%5Bid%5D-571a42114028488a.js" defer=""></script><script src="/_next/static/k2SjylS4DhAPzPoZgQ49x/_buildManifest.js" defer=""></script><script src="/_next/static/k2SjylS4DhAPzPoZgQ49x/_ssgManifest.js" defer=""></script><script src="/_next/static/k2SjylS4DhAPzPoZgQ49x/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><div class="min-h-screen"><main><div class=""><div class="pt-40 pb-36 px-20 border-b-[1px] relative"><h1 class="font-bold tracking-tighter leading-tight md:leading-none mb-4 text-center text-3xl">prototype으로 정의한 method에 setTimeout 설정하기.</h1><div class="flex justify-center"><em class="text-sm"><time dateTime="2008. 4. 17. 17:20">2008. 4. 17. 17:20</time></em></div></div><div class="w-[650px] pt-10 pb-20 mx-auto"><article class="prose">javascript 삼매경에 빠져있다.<br><blockquote>
processForm=function(inservleturl) {<br>&nbsp; &nbsp; this.inservleturl = inservleturl;<br>&nbsp; &nbsp; this.submitForm();<br>
}<br>
<br>
processForm.prototype.submitForm2=function() {<br>
}<br>
<br>
processForm.prototype.submitForm=function() {<br>&nbsp; &nbsp; setTimeout("submitStep2()", 20);<br>
}</blockquote>현재 이 소스코드에서 submitForm 은 20ms 뒤에 submitStep2() 를 수행하려 할 것이다.<br>그러나 setTimeout은&nbsp; 동기적으로 동작해서 20ms뒤에 submitStep2() 를 수행하려 할 때쯤엔 이미 submitForm method 의 영역을 벗어나서 submitStep2() 를 processForm이 아닌 다른 곳에서 찾으려 할 것이다.<br><br>그렇다면 submitStep2()를 수행하려면 어떻게 해야할까?<br><br>답은 <a href="http://bytes.com/forum/thread451446.html" target="_blank">using setTimeout when using prototype</a> 에서 찾을 수 있었다.<br>마지막 submitForm 을<br><blockquote>processForm.prototype.submitForm=function() {<br>&nbsp; &nbsp; var self = this ;<br>
 &nbsp;&nbsp; setTimeout(function() { self.submitStep2() }, 20);<br>

}</blockquote><br>과 같이 바꾸어 주면 된다.<br>그러면 self는 여전히 processForm을 가리킬 것이고 submitStep2()는 정상적으로 수행된다.<br><br><br>
            </article></div></div></main></div><footer class="bg-slate-100 border-t border-accent-2 mt-6"><div class="py-4 flex flex-col items-center justify-center text-xs text-slate-500"><a href="https://twitter.com/@JooStory">@JooStory</a></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"id":"55","date":"2008. 4. 17. 17:20","title":"prototype으로 정의한 method에 setTimeout 설정하기.","content":"javascript 삼매경에 빠져있다.\u003cbr\u003e\u003cblockquote\u003e\nprocessForm=function(inservleturl) {\u003cbr\u003e\u0026nbsp; \u0026nbsp; this.inservleturl = inservleturl;\u003cbr\u003e\u0026nbsp; \u0026nbsp; this.submitForm();\u003cbr\u003e\n}\u003cbr\u003e\n\u003cbr\u003e\nprocessForm.prototype.submitForm2=function() {\u003cbr\u003e\n}\u003cbr\u003e\n\u003cbr\u003e\nprocessForm.prototype.submitForm=function() {\u003cbr\u003e\u0026nbsp; \u0026nbsp; setTimeout(\"submitStep2()\", 20);\u003cbr\u003e\n}\u003c/blockquote\u003e현재 이 소스코드에서 submitForm 은 20ms 뒤에 submitStep2() 를 수행하려 할 것이다.\u003cbr\u003e그러나 setTimeout은\u0026nbsp; 동기적으로 동작해서 20ms뒤에 submitStep2() 를 수행하려 할 때쯤엔 이미 submitForm method 의 영역을 벗어나서 submitStep2() 를 processForm이 아닌 다른 곳에서 찾으려 할 것이다.\u003cbr\u003e\u003cbr\u003e그렇다면 submitStep2()를 수행하려면 어떻게 해야할까?\u003cbr\u003e\u003cbr\u003e답은 \u003ca href=\"http://bytes.com/forum/thread451446.html\" target=\"_blank\"\u003eusing setTimeout when using prototype\u003c/a\u003e 에서 찾을 수 있었다.\u003cbr\u003e마지막 submitForm 을\u003cbr\u003e\u003cblockquote\u003eprocessForm.prototype.submitForm=function() {\u003cbr\u003e\u0026nbsp; \u0026nbsp; var self = this ;\u003cbr\u003e\n \u0026nbsp;\u0026nbsp; setTimeout(function() { self.submitStep2() }, 20);\u003cbr\u003e\n\n}\u003c/blockquote\u003e\u003cbr\u003e과 같이 바꾸어 주면 된다.\u003cbr\u003e그러면 self는 여전히 processForm을 가리킬 것이고 submitStep2()는 정상적으로 수행된다.\u003cbr\u003e\u003cbr\u003e\u003cbr\u003e\n            ","summary":"javascript 삼매경에 빠져있다.\nprocessForm=function(inservleturl) {\u0026nbsp; \u0026nbsp; this.inservleturl = inservleturl;\u0026nbsp; \u0026nbsp; this.submitForm();\n}\n\nprocessForm.prototype.submitForm2=function() {\n}\n\nprocessForm.prototype.submitForm=function() {\u0026nbsp; \u0026nbsp; setTi","image":"https://t1.daumcdn.net/tistory_admin/static/images/openGraph/opengraph.png"}},"__N_SSG":true},"page":"/tistory/[id]","query":{"id":"55"},"buildId":"k2SjylS4DhAPzPoZgQ49x","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>