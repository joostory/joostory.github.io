<!DOCTYPE html><html lang="ko"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="shortcut icon" href="/favicon.ico"/><meta name="description" content="JooStory.net"/><meta property="og:image" content="https://og-image.vercel.app/Next.js%20Blog%20Starter%20Example.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg"/><link rel="canonical" href="https://blog.joostory.net/378"/><title>Angularjs vs Handlebars</title><meta property="og:type" content="article"/><meta property="og:title" content="Angularjs vs Handlebars"/><meta property="og:description" content="그동안 진행하던 프로젝트에서&amp;nbsp;angularjs를 사용하지 않고 handlebars를 사용하기로 했다. 그동안 angularjs 로 만든 곳을 jquery + handlebars로 변경해야하는데 그에 앞서 간단한 샘플앱을 만들어보기로 했다. 댓글 앱인데 모양새는 동일하고 내부만 조금씩 다르다.

Angularjs
angularjs는 template을 따로 저장한 후에 불러오기보다는 사용하고 싶은 곳에 직접 작성하는 것이 특징이다. 먼저 ng-ap"/><meta property="og:image" content="https://img1.daumcdn.net/thumb/R800x0/?scode=mtistory2&amp;fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F25191B4954DD6C7E36"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Angularjs vs Handlebars"/><meta name="twitter:description" content="그동안 진행하던 프로젝트에서&amp;nbsp;angularjs를 사용하지 않고 handlebars를 사용하기로 했다. 그동안 angularjs 로 만든 곳을 jquery + handlebars로 변경해야하는데 그에 앞서 간단한 샘플앱을 만들어보기로 했다. 댓글 앱인데 모양새는 동일하고 내부만 조금씩 다르다.

Angularjs
angularjs는 template을 따로 저장한 후에 불러오기보다는 사용하고 싶은 곳에 직접 작성하는 것이 특징이다. 먼저 ng-ap"/><meta property="twitter:image" content="https://img1.daumcdn.net/thumb/R800x0/?scode=mtistory2&amp;fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F25191B4954DD6C7E36"/><meta name="next-head-count" content="15"/><link rel="preload" href="/_next/static/css/11ae7950df9656c6.css" as="style"/><link rel="stylesheet" href="/_next/static/css/11ae7950df9656c6.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-69bfa6990bb9e155.js" defer=""></script><script src="/_next/static/chunks/framework-fc97f3f1282ce3ed.js" defer=""></script><script src="/_next/static/chunks/main-f4ae3437c92c1efc.js" defer=""></script><script src="/_next/static/chunks/pages/_app-f76bbe1730ea85a1.js" defer=""></script><script src="/_next/static/chunks/494-fa03e5491fc3b3a9.js" defer=""></script><script src="/_next/static/chunks/pages/tistory/%5Bid%5D-571a42114028488a.js" defer=""></script><script src="/_next/static/k2SjylS4DhAPzPoZgQ49x/_buildManifest.js" defer=""></script><script src="/_next/static/k2SjylS4DhAPzPoZgQ49x/_ssgManifest.js" defer=""></script><script src="/_next/static/k2SjylS4DhAPzPoZgQ49x/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><div class="min-h-screen"><main><div class=""><div class="pt-40 pb-36 px-20 border-b-[1px] relative"><h1 class="font-bold tracking-tighter leading-tight md:leading-none mb-4 text-center text-3xl">Angularjs vs Handlebars</h1><div class="flex justify-center"><em class="text-sm"><time dateTime="2015. 2. 13. 13:07">2015. 2. 13. 13:07</time></em></div></div><div class="w-[650px] pt-10 pb-20 mx-auto"><article class="prose"><p>그동안 진행하던 프로젝트에서&nbsp;angularjs를 사용하지 않고 handlebars를 사용하기로 했다. 그동안 angularjs 로 만든 곳을 jquery + handlebars로 변경해야하는데 그에 앞서 간단한 샘플앱을 만들어보기로 했다. 댓글 앱인데 모양새는 동일하고 내부만 조금씩 다르다.</p>
<p style="text-align: center; clear: none; float: none;"><span class="imageblock" style="display:inline-block;width:683px;;height:auto;max-width:100%"><span data-url="https://t1.daumcdn.net/cfile/tistory/25191B4954DD6C7E36?download" data-lightbox="lightbox"><img srcset="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=http%3A%2F%2Fcfile2.uf.tistory.com%2Fimage%2F25191B4954DD6C7E362167" src="https://t1.daumcdn.net/cfile/tistory/25191B4954DD6C7E36" style="cursor: pointer;max-width:100%;height:auto" width="683" height="373" filename="Screenshot from 2015-02-13 12:15:44.png" filemime="image/jpeg" ></span></span></p>
<h3>Angularjs</h3>
<p>angularjs는 template을 따로 저장한 후에 불러오기보다는 사용하고 싶은 곳에 직접 작성하는 것이 특징이다. 먼저 ng-app을 통해서 사용할 모듈을 지정하고 ng-controller로 사용할 컨트롤러를 지정한다. ng-init 으로 초기화할 액션을 수행할 수 있다. 보였다 안보였다 하는 부부은 ng-show, 클릭이 필요한 부분은 ng-click, 리스트는 ng-repeat 등 머리속에 떠오르는 대로 쭉 작성해둔 후에 controller를 통해 구현을 한다.<br></p>

<pre class="prettyprint">&lt;div class="content box" ng-app="CommentApp" ng-controller="CommentController" ng-init="init()"&gt;<br />&nbsp;&nbsp;&nbsp; &lt;div class="comment_header"&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;h3&gt;Comment {{ commentCount }}&lt;/h3&gt;<br />&nbsp;&nbsp;&nbsp; &lt;/div&gt;<br />&nbsp;&nbsp;&nbsp; &lt;div class="comment_list"&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;button class="btn_comment_more" style="display:block" ng-show="hasMore()" ng-click="more()"&gt;이전댓글 더보기&lt;/button&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;ul id="comment-list"&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;li ng-repeat="item in commentList"&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;div class="comment_profile"&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;img ng-src="{{ item.author.image }}"&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/div&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;div class="comment_content"&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;div&gt;{{ item.author.name }} {{ timeStampToDate(item.date) }}&lt;/div&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;div&gt;{{ item.message }}&lt;/div&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/div&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/li&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/ul&gt;<br />&nbsp;&nbsp;&nbsp; &lt;/div&gt;<br />&nbsp;&nbsp;&nbsp; &lt;div class="comment_form"&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;form class="form" ng-submit="post(comment)"&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;div class="form-group"&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;label for="comment"&gt;Message&lt;/label&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;input name="comment" class="form-control" ng-model="comment.message"&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/div&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;div class="form-group"&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;button class="btn btn-primary" type="submit"&gt;저장&lt;/button&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/div&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/form&gt;<br />&nbsp;&nbsp;&nbsp; &lt;/div&gt;<br />&lt;/div&gt;</pre>

<p>이렇게 작성한 template이 동작할 수 있도록 controller를 만든다. 먼저 ng-app으로 정한 module을 만들고 그 안에 ng-controller로 지정한 controller를 만든다. controller의 $scope에 그동안 사용한 변수와 함수를 만들고 액션을 지정하는 것으로 완료가 된다.<br></p>

<pre class="prettyprint">var app = angular.module("CommentApp", []);<br /><br />app.controller("CommentController", ['$scope', function($scope) {<br />&nbsp;&nbsp;&nbsp; $scope.commentCount = 0;<br />&nbsp;&nbsp;&nbsp; $scope.commentList = [];<br /><br />&nbsp;&nbsp;&nbsp; $scope.init = function() {<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; $scope.commentCount = sample.count;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; $scope.commentList = sample.list;<br />&nbsp;&nbsp;&nbsp; };<br /><br />&nbsp;&nbsp;&nbsp; $scope.hasMore = function() {<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return $scope.commentCount &gt; $scope.commentList.length;<br />&nbsp;&nbsp;&nbsp; };<br /><br />&nbsp;&nbsp;&nbsp; $scope.more = function() {<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; $scope.commentList = sample.olderList.concat($scope.commentList);<br />&nbsp;&nbsp;&nbsp; };<br /><br />&nbsp;&nbsp;&nbsp; $scope.post = function(comment) {<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; if (!comment.message) {<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }<br /><br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; var item = {<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; author: {<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; name: "Joo",<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; image: "http://mud-kage.kakao.co.kr/14/dn/btqbJlyNypL/kFOdHKDFNBlBW2VD9Ei00K/o.jpg"<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; },<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; date: new Date(),<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; message: comment.message<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; };<br /><br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; $scope.commentList.push(item);<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; $scope.commentCount++;<br /><br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; comment.message = "";<br />&nbsp;&nbsp;&nbsp; };<br /><br />&nbsp;&nbsp;&nbsp; $scope.timeStampToDate = function(timestamp) {<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return timeStampToDate(timestamp);<br />&nbsp;&nbsp;&nbsp; };<br />}]);<br /></pre>

<p>이렇게 angularjs로 만든 샘플이 완료되었다. 물론 초기에 학습하는 시간이 필요하긴 하지만 학습이 완료되고 나면 엄청난 속도가 난다. 사실 먼저 handlebars로 만든 후에 angularjs로 포팅을 했는데 포팅하는데 한시간이 뭐야 몇분 걸리지도 않았다. 단점은 여러 커뮤니티에서 지적했듯 비교적 느린 속도와 소스보기를 했을때 굉장히 더럽고 html과 너무 뒤섞인다는 것이다. 그래서 그런지 대형프로젝트에서 사용하는 것을 잘 못 보기는 했다.</p>
<p>- Angularjs : <a class="tx-link" target="_blank" href="https://angularjs.org/">https://angularjs.org/</a><br>- 샘플앱 : <a class="tx-link" target="_blank" href="http://dev.joostory.net/study/angularjs_comment">http://dev.joostory.net/study/angularjs_comment</a><br></p>

<h3>Handlebars</h3>
<p>handlebars는 사실 2일전에 처음 알게 된 것인데 그렇게 유명한 것인지 몰랐다. 웹의 세계를 너무 오래 떠나 있었나보다. handlebars의 특징은 view에만 중점을 둔 것이다. 문서도 액션에 대한 부분은 전혀 없고 compile 해둔 template으로 html 코드를 뽑아내는 부분에만 초점이 맞춰져 있다. 사용하려면 먼저 template을 compile해야한다. precompile을 할 수 있는데 이렇게 하면 좀 더 리소스크기를 줄이고 속도를 빠르게 할 수 있다. compiler가 빠진 handlebars.runtime을 사용하기 때문이다. precompile하면 Handlebars.templates 에 배열로 compile된 template을 담아주는데 아래<sup class="footnote"><a id="footnote_link_378_1" href="#footnote_378_1" onmouseover="tistoryFootnote.show(this,378,1)" onmouseout="tistoryFootnote.hide(378,1)" style="color:#f9650d;font-family:Verdana,Sans-serif;display:inline;"><span style="display:none">[각주:</span>1<span style="display:none">]</span></a></sup>와 비슷한 일이라고 생각하면 된다.<br></p>

<pre class="prettyprint">&lt;script&gt;<br />(function($, $h) {<br />&nbsp;&nbsp;&nbsp; $h.templates = $h.templates || [];<br />&nbsp;&nbsp;&nbsp; $h.templates['comment.tpl'] = $h.compile($('#template-comment').html());<br />&nbsp;&nbsp;&nbsp; $h.templates['comment-list.tpl'] = $h.compile($('#template-comment-list').html());<br />&nbsp;&nbsp;&nbsp; $h.templates['editor.tpl'] = $h.compile($('#template-comment-editor').html());<br />&nbsp;&nbsp;&nbsp; $h.templates['header.tpl'] = $h.compile($('#template-comment-header').html());<br />})(jQuery, Handlebars);<br />&lt;/script&gt;<br /></pre>

<p>precompile을 하지 않을 것이라면 script 태그안에 template을 담아두고 사용할때 compile하면 된다. "#each" 로 list에 대한 처리를 할 수 있고 "&gt; coment.tpl" 과 같이 partial로 분리한 다른 template을 include할 수 있다. "dateformat"은 helper로 등록한 함수이다.<br></p>

<pre class="prettyprint">&lt;div class="content box"&gt;<br />&nbsp;&nbsp;&nbsp; &lt;div class="comment_header"&gt;&lt;/div&gt;<br />&nbsp;&nbsp;&nbsp; &lt;div class="comment_list"&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;button class="btn_comment_more"&gt;이전댓글 더보기&lt;/button&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;ul id="comment-list"&gt;&lt;/ul&gt;<br />&nbsp;&nbsp;&nbsp; &lt;/div&gt;<br />&nbsp;&nbsp;&nbsp; &lt;div class="comment_form"&gt;&lt;/div&gt;<br />&lt;/div&gt;<br /><br />&lt;script id="template-comment" type="text/x-handlebars-template"&gt;<br />&nbsp;&nbsp;&nbsp; &lt;li&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;div class="comment_profile"&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;img src="{{ author.image }}" /&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/div&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;div class="comment_content"&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;div&gt;{{ author.name }} {{dateformat date}}&lt;/div&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;div&gt;{{ message }}&lt;/div&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/div&gt;<br />&nbsp;&nbsp;&nbsp; &lt;/li&gt;<br />&lt;/script&gt;<br /><br />&lt;script id="template-comment-list" type="text/x-handlebars-template"&gt;<br />&nbsp;&nbsp;&nbsp; {{#each commentList}}<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {{&gt; comment.tpl }}<br />&nbsp;&nbsp;&nbsp; {{/each}}<br />&lt;/script&gt;<br /><br /><br />&lt;script id="template-comment-editor" type="text/x-handlebars-template"&gt;<br />&nbsp;&nbsp;&nbsp; &lt;form class="form"&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;div class="form-group"&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;label for="comment"&gt;Message&lt;/label&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;input name="comment" class="form-control" /&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/div&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;div class="form-group"&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;button class="btn btn-primary"&gt;저장&lt;/button&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/div&gt;<br />&nbsp;&nbsp;&nbsp; &lt;/form&gt;<br />&lt;/script&gt;<br /><br />&lt;script id="template-comment-header" type="text/x-handlebars-template"&gt;<br />&lt;h3&gt;Comment {{ commentCount }}&lt;/h3&gt;<br />&lt;/script&gt;<br /></pre>

<p>template을 view로 만드는 것이나 액션은 모두 직접 만들어줘야한다. 먼저 template에서 사용한 helper와 partial을 등록해두고 event에 대한 액션을 만든다. 이 부분에 대해서는 Handlebars에서 제공하는 것은 없기 때문에 jquery를 사용하였다.<br></p>

<pre class="prettyprint">var commentTemplate = $h.templates['comment.tpl'],<br />&nbsp;&nbsp;&nbsp; listTemplate = $h.templates['comment-list.tpl'],<br />&nbsp;&nbsp;&nbsp; editorTemplate = $h.templates['editor.tpl']<br />&nbsp;&nbsp;&nbsp; headerTemplate = $h.templates['header.tpl'],<br />&nbsp;&nbsp;&nbsp; $header = $("div.comment_header"),<br />&nbsp;&nbsp;&nbsp; $list = $("#comment-list"),<br />&nbsp;&nbsp;&nbsp; $more = $("button.btn_comment_more"),<br />&nbsp;&nbsp;&nbsp; $form = $(editorTemplate()),<br />&nbsp;&nbsp;&nbsp; commentCount = 0,<br />&nbsp;&nbsp;&nbsp; commentList = [];<br /><br />// function<br /><br />$h.registerHelper('dateformat', function(date, options) {<br />&nbsp;&nbsp;&nbsp; return timeStampToDate(date.getTime());<br />});<br /><br />$h.registerPartial('comment.tpl', commentTemplate);<br /><br />function updateHeader() {<br />&nbsp;&nbsp;&nbsp; $header.html(headerTemplate({<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; commentCount: commentCount<br />&nbsp;&nbsp;&nbsp; }));<br />}<br />function updateMore() {<br />&nbsp;&nbsp;&nbsp; if (commentCount &gt; commentList.length) {<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; $more.show();<br />&nbsp;&nbsp;&nbsp; } else {<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; $more.hide();<br />&nbsp;&nbsp;&nbsp; }<br />}<br />function updateList() {<br />&nbsp;&nbsp;&nbsp; $list.html(listTemplate({ commentList: commentList }));<br />}<br /><br />function updateView() {<br />&nbsp;&nbsp;&nbsp; updateHeader();<br />&nbsp;&nbsp;&nbsp; updateMore();<br />&nbsp;&nbsp;&nbsp; updateList();<br />};<br /><br />function appendComment(message) {<br />&nbsp;&nbsp;&nbsp; var comment = { author:{image:"http://mud-kage.kakao.co.kr/14/dn/btqbJlyNypL/kFOdHKDFNBlBW2VD9Ei00K/o.jpg", name:"Joo"}, date: new Date(), message: message };<br />&nbsp;&nbsp;&nbsp; commentList.push(comment);<br />&nbsp;&nbsp;&nbsp; commentCount++;<br />&nbsp;&nbsp;&nbsp; updateView();<br />};<br /><br />// init<br /><br />commentCount = sample.count;<br />commentList = sample.list;<br /><br />$("div.comment_form").append($form);<br />updateView();<br /><br />// event<br /><br />$form.on("submit", function(e) {<br />&nbsp;&nbsp;&nbsp; e.preventDefault();<br />&nbsp;&nbsp;&nbsp; appendComment(this.comment.value);<br />&nbsp;&nbsp;&nbsp; this.reset();<br />});<br /><br />$more.on("mousedown", function(e) {<br />&nbsp;&nbsp;&nbsp; e.preventDefault();<br />&nbsp;&nbsp;&nbsp; commentList = sample.olderList.concat(commentList)<br />&nbsp;&nbsp;&nbsp; updateView();<br />});<br /></pre>

<p>이렇게 handlebars를 사용한 샘플앱도 완료가 되었다. handlebars는 학습이랄 것도 없는 것이 template 자체 문법은 너무 쉽고 helper나 partial, precompile에 대한 부분만 알아두면 jquery만 사용하는 것과 같다. 장점은 precompile이라고 할 수 있다. 초기 로딩되는 리소스를 줄이는데 도움이 된다.</p>
<p>- Handlebars : <a class="tx-link" target="_blank" href="http://handlebarsjs.com/">http://handlebarsjs.com/</a><br>- 샘플앱 : <a class="tx-link" target="_blank" href="http://dev.joostory.net/study/handlebars_comment">http://dev.joostory.net/study/handlebars_comment</a><br>- 샘플앱 (precompile) : <a class="tx-link" target="_blank" href="http://dev.joostory.net/study/handlebars_comment_precompile">http://dev.joostory.net/study/handlebars_comment_precompile</a></p>
<h3>결론</h3>
<p>Angularjs vs Handlebars 라고 제목은 붙였지만 사실 둘 모두 괜찮은 것 같다. 다만 머신속도가 엄청나게 빨라진 요즘 속도는 큰 의미가 없는 것 같아 Angularjs의 단점이 크게 보이지는 않는다. 개발자 대부분이 속도가 느리다는 것에서 망설이겠지만 속도가 그리 중요하지만 않다면 angularjs를 선택하는 것이 어떤가 싶다.<br></p><div class="footnotes">
<ol class="footnotes">
<li id="footnote_378_1">아래는 동일한 소스코드를 가지고 precompile버전, 아닌 버전을 만들기 위해 사용했다 <a href="#footnote_link_378_1">[본문으로]</a></li>
</ol>
</div>
<script type="text/javascript">
tistoryFootnote.add(378,1,"\uc544\ub798\ub294 \ub3d9\uc77c\ud55c \uc18c\uc2a4\ucf54\ub4dc\ub97c \uac00\uc9c0\uace0 precompile\ubc84\uc804, \uc544\ub2cc \ubc84\uc804\uc744 \ub9cc\ub4e4\uae30 \uc704\ud574 \uc0ac\uc6a9\ud588\ub2e4");
</script>            </article></div></div></main></div><footer class="bg-slate-100 border-t border-accent-2 mt-6"><div class="py-4 flex flex-col items-center justify-center text-xs text-slate-500"><a href="https://twitter.com/@JooStory">@JooStory</a></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"id":"378","date":"2015. 2. 13. 13:07","title":"Angularjs vs Handlebars","content":"\u003cp\u003e그동안 진행하던 프로젝트에서\u0026nbsp;angularjs를 사용하지 않고 handlebars를 사용하기로 했다. 그동안 angularjs 로 만든 곳을 jquery + handlebars로 변경해야하는데 그에 앞서 간단한 샘플앱을 만들어보기로 했다. 댓글 앱인데 모양새는 동일하고 내부만 조금씩 다르다.\u003c/p\u003e\n\u003cp style=\"text-align: center; clear: none; float: none;\"\u003e\u003cspan class=\"imageblock\" style=\"display:inline-block;width:683px;;height:auto;max-width:100%\"\u003e\u003cspan data-url=\"https://t1.daumcdn.net/cfile/tistory/25191B4954DD6C7E36?download\" data-lightbox=\"lightbox\"\u003e\u003cimg srcset=\"https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2\u0026fname=http%3A%2F%2Fcfile2.uf.tistory.com%2Fimage%2F25191B4954DD6C7E362167\" src=\"https://t1.daumcdn.net/cfile/tistory/25191B4954DD6C7E36\" style=\"cursor: pointer;max-width:100%;height:auto\" width=\"683\" height=\"373\" filename=\"Screenshot from 2015-02-13 12:15:44.png\" filemime=\"image/jpeg\" \u003e\u003c/span\u003e\u003c/span\u003e\u003c/p\u003e\n\u003ch3\u003eAngularjs\u003c/h3\u003e\n\u003cp\u003eangularjs는 template을 따로 저장한 후에 불러오기보다는 사용하고 싶은 곳에 직접 작성하는 것이 특징이다. 먼저 ng-app을 통해서 사용할 모듈을 지정하고 ng-controller로 사용할 컨트롤러를 지정한다. ng-init 으로 초기화할 액션을 수행할 수 있다. 보였다 안보였다 하는 부부은 ng-show, 클릭이 필요한 부분은 ng-click, 리스트는 ng-repeat 등 머리속에 떠오르는 대로 쭉 작성해둔 후에 controller를 통해 구현을 한다.\u003cbr\u003e\u003c/p\u003e\n\n\u003cpre class=\"prettyprint\"\u003e\u0026lt;div class=\"content box\" ng-app=\"CommentApp\" ng-controller=\"CommentController\" ng-init=\"init()\"\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;div class=\"comment_header\"\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;h3\u0026gt;Comment {{ commentCount }}\u0026lt;/h3\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;/div\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;div class=\"comment_list\"\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;button class=\"btn_comment_more\" style=\"display:block\" ng-show=\"hasMore()\" ng-click=\"more()\"\u0026gt;이전댓글 더보기\u0026lt;/button\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;ul id=\"comment-list\"\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;li ng-repeat=\"item in commentList\"\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;div class=\"comment_profile\"\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;img ng-src=\"{{ item.author.image }}\"\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;/div\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;div class=\"comment_content\"\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;div\u0026gt;{{ item.author.name }} {{ timeStampToDate(item.date) }}\u0026lt;/div\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;div\u0026gt;{{ item.message }}\u0026lt;/div\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;/div\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;/li\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;/ul\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;/div\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;div class=\"comment_form\"\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;form class=\"form\" ng-submit=\"post(comment)\"\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;div class=\"form-group\"\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;label for=\"comment\"\u0026gt;Message\u0026lt;/label\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;input name=\"comment\" class=\"form-control\" ng-model=\"comment.message\"\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;/div\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;div class=\"form-group\"\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;button class=\"btn btn-primary\" type=\"submit\"\u0026gt;저장\u0026lt;/button\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;/div\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;/form\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;/div\u0026gt;\u003cbr /\u003e\u0026lt;/div\u0026gt;\u003c/pre\u003e\n\n\u003cp\u003e이렇게 작성한 template이 동작할 수 있도록 controller를 만든다. 먼저 ng-app으로 정한 module을 만들고 그 안에 ng-controller로 지정한 controller를 만든다. controller의 $scope에 그동안 사용한 변수와 함수를 만들고 액션을 지정하는 것으로 완료가 된다.\u003cbr\u003e\u003c/p\u003e\n\n\u003cpre class=\"prettyprint\"\u003evar app = angular.module(\"CommentApp\", []);\u003cbr /\u003e\u003cbr /\u003eapp.controller(\"CommentController\", ['$scope', function($scope) {\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; $scope.commentCount = 0;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; $scope.commentList = [];\u003cbr /\u003e\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; $scope.init = function() {\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; $scope.commentCount = sample.count;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; $scope.commentList = sample.list;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; };\u003cbr /\u003e\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; $scope.hasMore = function() {\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; return $scope.commentCount \u0026gt; $scope.commentList.length;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; };\u003cbr /\u003e\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; $scope.more = function() {\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; $scope.commentList = sample.olderList.concat($scope.commentList);\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; };\u003cbr /\u003e\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; $scope.post = function(comment) {\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; if (!comment.message) {\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; return;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; }\u003cbr /\u003e\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; var item = {\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; author: {\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; name: \"Joo\",\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; image: \"http://mud-kage.kakao.co.kr/14/dn/btqbJlyNypL/kFOdHKDFNBlBW2VD9Ei00K/o.jpg\"\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; },\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; date: new Date(),\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; message: comment.message\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; };\u003cbr /\u003e\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; $scope.commentList.push(item);\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; $scope.commentCount++;\u003cbr /\u003e\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; comment.message = \"\";\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; };\u003cbr /\u003e\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; $scope.timeStampToDate = function(timestamp) {\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; return timeStampToDate(timestamp);\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; };\u003cbr /\u003e}]);\u003cbr /\u003e\u003c/pre\u003e\n\n\u003cp\u003e이렇게 angularjs로 만든 샘플이 완료되었다. 물론 초기에 학습하는 시간이 필요하긴 하지만 학습이 완료되고 나면 엄청난 속도가 난다. 사실 먼저 handlebars로 만든 후에 angularjs로 포팅을 했는데 포팅하는데 한시간이 뭐야 몇분 걸리지도 않았다. 단점은 여러 커뮤니티에서 지적했듯 비교적 느린 속도와 소스보기를 했을때 굉장히 더럽고 html과 너무 뒤섞인다는 것이다. 그래서 그런지 대형프로젝트에서 사용하는 것을 잘 못 보기는 했다.\u003c/p\u003e\n\u003cp\u003e- Angularjs : \u003ca class=\"tx-link\" target=\"_blank\" href=\"https://angularjs.org/\"\u003ehttps://angularjs.org/\u003c/a\u003e\u003cbr\u003e- 샘플앱 : \u003ca class=\"tx-link\" target=\"_blank\" href=\"http://dev.joostory.net/study/angularjs_comment\"\u003ehttp://dev.joostory.net/study/angularjs_comment\u003c/a\u003e\u003cbr\u003e\u003c/p\u003e\n\n\u003ch3\u003eHandlebars\u003c/h3\u003e\n\u003cp\u003ehandlebars는 사실 2일전에 처음 알게 된 것인데 그렇게 유명한 것인지 몰랐다. 웹의 세계를 너무 오래 떠나 있었나보다. handlebars의 특징은 view에만 중점을 둔 것이다. 문서도 액션에 대한 부분은 전혀 없고 compile 해둔 template으로 html 코드를 뽑아내는 부분에만 초점이 맞춰져 있다. 사용하려면 먼저 template을 compile해야한다. precompile을 할 수 있는데 이렇게 하면 좀 더 리소스크기를 줄이고 속도를 빠르게 할 수 있다. compiler가 빠진 handlebars.runtime을 사용하기 때문이다. precompile하면 Handlebars.templates 에 배열로 compile된 template을 담아주는데 아래\u003csup class=\"footnote\"\u003e\u003ca id=\"footnote_link_378_1\" href=\"#footnote_378_1\" onmouseover=\"tistoryFootnote.show(this,378,1)\" onmouseout=\"tistoryFootnote.hide(378,1)\" style=\"color:#f9650d;font-family:Verdana,Sans-serif;display:inline;\"\u003e\u003cspan style=\"display:none\"\u003e[각주:\u003c/span\u003e1\u003cspan style=\"display:none\"\u003e]\u003c/span\u003e\u003c/a\u003e\u003c/sup\u003e와 비슷한 일이라고 생각하면 된다.\u003cbr\u003e\u003c/p\u003e\n\n\u003cpre class=\"prettyprint\"\u003e\u0026lt;script\u0026gt;\u003cbr /\u003e(function($, $h) {\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; $h.templates = $h.templates || [];\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; $h.templates['comment.tpl'] = $h.compile($('#template-comment').html());\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; $h.templates['comment-list.tpl'] = $h.compile($('#template-comment-list').html());\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; $h.templates['editor.tpl'] = $h.compile($('#template-comment-editor').html());\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; $h.templates['header.tpl'] = $h.compile($('#template-comment-header').html());\u003cbr /\u003e})(jQuery, Handlebars);\u003cbr /\u003e\u0026lt;/script\u0026gt;\u003cbr /\u003e\u003c/pre\u003e\n\n\u003cp\u003eprecompile을 하지 않을 것이라면 script 태그안에 template을 담아두고 사용할때 compile하면 된다. \"#each\" 로 list에 대한 처리를 할 수 있고 \"\u0026gt; coment.tpl\" 과 같이 partial로 분리한 다른 template을 include할 수 있다. \"dateformat\"은 helper로 등록한 함수이다.\u003cbr\u003e\u003c/p\u003e\n\n\u003cpre class=\"prettyprint\"\u003e\u0026lt;div class=\"content box\"\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;div class=\"comment_header\"\u0026gt;\u0026lt;/div\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;div class=\"comment_list\"\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;button class=\"btn_comment_more\"\u0026gt;이전댓글 더보기\u0026lt;/button\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;ul id=\"comment-list\"\u0026gt;\u0026lt;/ul\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;/div\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;div class=\"comment_form\"\u0026gt;\u0026lt;/div\u0026gt;\u003cbr /\u003e\u0026lt;/div\u0026gt;\u003cbr /\u003e\u003cbr /\u003e\u0026lt;script id=\"template-comment\" type=\"text/x-handlebars-template\"\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;li\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;div class=\"comment_profile\"\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;img src=\"{{ author.image }}\" /\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;/div\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;div class=\"comment_content\"\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;div\u0026gt;{{ author.name }} {{dateformat date}}\u0026lt;/div\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;div\u0026gt;{{ message }}\u0026lt;/div\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;/div\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;/li\u0026gt;\u003cbr /\u003e\u0026lt;/script\u0026gt;\u003cbr /\u003e\u003cbr /\u003e\u0026lt;script id=\"template-comment-list\" type=\"text/x-handlebars-template\"\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; {{#each commentList}}\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; {{\u0026gt; comment.tpl }}\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; {{/each}}\u003cbr /\u003e\u0026lt;/script\u0026gt;\u003cbr /\u003e\u003cbr /\u003e\u003cbr /\u003e\u0026lt;script id=\"template-comment-editor\" type=\"text/x-handlebars-template\"\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;form class=\"form\"\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;div class=\"form-group\"\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;label for=\"comment\"\u0026gt;Message\u0026lt;/label\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;input name=\"comment\" class=\"form-control\" /\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;/div\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;div class=\"form-group\"\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;button class=\"btn btn-primary\"\u0026gt;저장\u0026lt;/button\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;/div\u0026gt;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;/form\u0026gt;\u003cbr /\u003e\u0026lt;/script\u0026gt;\u003cbr /\u003e\u003cbr /\u003e\u0026lt;script id=\"template-comment-header\" type=\"text/x-handlebars-template\"\u0026gt;\u003cbr /\u003e\u0026lt;h3\u0026gt;Comment {{ commentCount }}\u0026lt;/h3\u0026gt;\u003cbr /\u003e\u0026lt;/script\u0026gt;\u003cbr /\u003e\u003c/pre\u003e\n\n\u003cp\u003etemplate을 view로 만드는 것이나 액션은 모두 직접 만들어줘야한다. 먼저 template에서 사용한 helper와 partial을 등록해두고 event에 대한 액션을 만든다. 이 부분에 대해서는 Handlebars에서 제공하는 것은 없기 때문에 jquery를 사용하였다.\u003cbr\u003e\u003c/p\u003e\n\n\u003cpre class=\"prettyprint\"\u003evar commentTemplate = $h.templates['comment.tpl'],\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; listTemplate = $h.templates['comment-list.tpl'],\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; editorTemplate = $h.templates['editor.tpl']\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; headerTemplate = $h.templates['header.tpl'],\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; $header = $(\"div.comment_header\"),\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; $list = $(\"#comment-list\"),\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; $more = $(\"button.btn_comment_more\"),\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; $form = $(editorTemplate()),\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; commentCount = 0,\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; commentList = [];\u003cbr /\u003e\u003cbr /\u003e// function\u003cbr /\u003e\u003cbr /\u003e$h.registerHelper('dateformat', function(date, options) {\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; return timeStampToDate(date.getTime());\u003cbr /\u003e});\u003cbr /\u003e\u003cbr /\u003e$h.registerPartial('comment.tpl', commentTemplate);\u003cbr /\u003e\u003cbr /\u003efunction updateHeader() {\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; $header.html(headerTemplate({\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; commentCount: commentCount\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; }));\u003cbr /\u003e}\u003cbr /\u003efunction updateMore() {\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; if (commentCount \u0026gt; commentList.length) {\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; $more.show();\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; } else {\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u0026nbsp; $more.hide();\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; }\u003cbr /\u003e}\u003cbr /\u003efunction updateList() {\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; $list.html(listTemplate({ commentList: commentList }));\u003cbr /\u003e}\u003cbr /\u003e\u003cbr /\u003efunction updateView() {\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; updateHeader();\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; updateMore();\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; updateList();\u003cbr /\u003e};\u003cbr /\u003e\u003cbr /\u003efunction appendComment(message) {\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; var comment = { author:{image:\"http://mud-kage.kakao.co.kr/14/dn/btqbJlyNypL/kFOdHKDFNBlBW2VD9Ei00K/o.jpg\", name:\"Joo\"}, date: new Date(), message: message };\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; commentList.push(comment);\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; commentCount++;\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; updateView();\u003cbr /\u003e};\u003cbr /\u003e\u003cbr /\u003e// init\u003cbr /\u003e\u003cbr /\u003ecommentCount = sample.count;\u003cbr /\u003ecommentList = sample.list;\u003cbr /\u003e\u003cbr /\u003e$(\"div.comment_form\").append($form);\u003cbr /\u003eupdateView();\u003cbr /\u003e\u003cbr /\u003e// event\u003cbr /\u003e\u003cbr /\u003e$form.on(\"submit\", function(e) {\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; e.preventDefault();\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; appendComment(this.comment.value);\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; this.reset();\u003cbr /\u003e});\u003cbr /\u003e\u003cbr /\u003e$more.on(\"mousedown\", function(e) {\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; e.preventDefault();\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; commentList = sample.olderList.concat(commentList)\u003cbr /\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp; updateView();\u003cbr /\u003e});\u003cbr /\u003e\u003c/pre\u003e\n\n\u003cp\u003e이렇게 handlebars를 사용한 샘플앱도 완료가 되었다. handlebars는 학습이랄 것도 없는 것이 template 자체 문법은 너무 쉽고 helper나 partial, precompile에 대한 부분만 알아두면 jquery만 사용하는 것과 같다. 장점은 precompile이라고 할 수 있다. 초기 로딩되는 리소스를 줄이는데 도움이 된다.\u003c/p\u003e\n\u003cp\u003e- Handlebars : \u003ca class=\"tx-link\" target=\"_blank\" href=\"http://handlebarsjs.com/\"\u003ehttp://handlebarsjs.com/\u003c/a\u003e\u003cbr\u003e- 샘플앱 : \u003ca class=\"tx-link\" target=\"_blank\" href=\"http://dev.joostory.net/study/handlebars_comment\"\u003ehttp://dev.joostory.net/study/handlebars_comment\u003c/a\u003e\u003cbr\u003e- 샘플앱 (precompile) : \u003ca class=\"tx-link\" target=\"_blank\" href=\"http://dev.joostory.net/study/handlebars_comment_precompile\"\u003ehttp://dev.joostory.net/study/handlebars_comment_precompile\u003c/a\u003e\u003c/p\u003e\n\u003ch3\u003e결론\u003c/h3\u003e\n\u003cp\u003eAngularjs vs Handlebars 라고 제목은 붙였지만 사실 둘 모두 괜찮은 것 같다. 다만 머신속도가 엄청나게 빨라진 요즘 속도는 큰 의미가 없는 것 같아 Angularjs의 단점이 크게 보이지는 않는다. 개발자 대부분이 속도가 느리다는 것에서 망설이겠지만 속도가 그리 중요하지만 않다면 angularjs를 선택하는 것이 어떤가 싶다.\u003cbr\u003e\u003c/p\u003e\u003cdiv class=\"footnotes\"\u003e\n\u003col class=\"footnotes\"\u003e\n\u003cli id=\"footnote_378_1\"\u003e아래는 동일한 소스코드를 가지고 precompile버전, 아닌 버전을 만들기 위해 사용했다 \u003ca href=\"#footnote_link_378_1\"\u003e[본문으로]\u003c/a\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\u003cscript type=\"text/javascript\"\u003e\ntistoryFootnote.add(378,1,\"\\uc544\\ub798\\ub294 \\ub3d9\\uc77c\\ud55c \\uc18c\\uc2a4\\ucf54\\ub4dc\\ub97c \\uac00\\uc9c0\\uace0 precompile\\ubc84\\uc804, \\uc544\\ub2cc \\ubc84\\uc804\\uc744 \\ub9cc\\ub4e4\\uae30 \\uc704\\ud574 \\uc0ac\\uc6a9\\ud588\\ub2e4\");\n\u003c/script\u003e            ","summary":"그동안 진행하던 프로젝트에서\u0026nbsp;angularjs를 사용하지 않고 handlebars를 사용하기로 했다. 그동안 angularjs 로 만든 곳을 jquery + handlebars로 변경해야하는데 그에 앞서 간단한 샘플앱을 만들어보기로 했다. 댓글 앱인데 모양새는 동일하고 내부만 조금씩 다르다.\n\nAngularjs\nangularjs는 template을 따로 저장한 후에 불러오기보다는 사용하고 싶은 곳에 직접 작성하는 것이 특징이다. 먼저 ng-ap","image":"https://img1.daumcdn.net/thumb/R800x0/?scode=mtistory2\u0026fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F25191B4954DD6C7E36"}},"__N_SSG":true},"page":"/tistory/[id]","query":{"id":"378"},"buildId":"k2SjylS4DhAPzPoZgQ49x","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>