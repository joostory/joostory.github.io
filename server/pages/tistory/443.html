<!DOCTYPE html><html lang="ko"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="shortcut icon" href="/favicon.ico"/><meta name="description" content="JooStory.net"/><meta property="og:image" content="https://og-image.vercel.app/Next.js%20Blog%20Starter%20Example.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg"/><link rel="canonical" href="https://blog.joostory.net/443"/><title>Tistory Editor with Electron</title><meta property="og:type" content="article"/><meta property="og:title" content="Tistory Editor with Electron"/><meta property="og:description" content="Electron은 오래전부터 알고 있었다. github에서 atom을 만들때 사용한 플랫폼을 공개한 것이다. nodejs에 그리 관심이 크진 않아서 무시하고 있었는데 한동안 react를 사용하다보니 자연스레 node에도 다시 관심이 생기고 그러다보니 electron에도 다시 관심이 생겼다.
시작
일단 시작은 몹시 쉽다.npm install --save electron으로 모듈을 불러오고 app을 위한 코드만 만들어두면 데스크탑앱이 떡하니 뜬다. 사실 처"/><meta property="og:image" content="https://img1.daumcdn.net/thumb/R800x0/?scode=mtistory2&amp;fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F235E6438585169D332"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Tistory Editor with Electron"/><meta name="twitter:description" content="Electron은 오래전부터 알고 있었다. github에서 atom을 만들때 사용한 플랫폼을 공개한 것이다. nodejs에 그리 관심이 크진 않아서 무시하고 있었는데 한동안 react를 사용하다보니 자연스레 node에도 다시 관심이 생기고 그러다보니 electron에도 다시 관심이 생겼다.
시작
일단 시작은 몹시 쉽다.npm install --save electron으로 모듈을 불러오고 app을 위한 코드만 만들어두면 데스크탑앱이 떡하니 뜬다. 사실 처"/><meta property="twitter:image" content="https://img1.daumcdn.net/thumb/R800x0/?scode=mtistory2&amp;fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F235E6438585169D332"/><meta name="next-head-count" content="15"/><link rel="preload" href="/_next/static/css/11ae7950df9656c6.css" as="style"/><link rel="stylesheet" href="/_next/static/css/11ae7950df9656c6.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-69bfa6990bb9e155.js" defer=""></script><script src="/_next/static/chunks/framework-fc97f3f1282ce3ed.js" defer=""></script><script src="/_next/static/chunks/main-f4ae3437c92c1efc.js" defer=""></script><script src="/_next/static/chunks/pages/_app-f76bbe1730ea85a1.js" defer=""></script><script src="/_next/static/chunks/494-fa03e5491fc3b3a9.js" defer=""></script><script src="/_next/static/chunks/pages/tistory/%5Bid%5D-571a42114028488a.js" defer=""></script><script src="/_next/static/k2SjylS4DhAPzPoZgQ49x/_buildManifest.js" defer=""></script><script src="/_next/static/k2SjylS4DhAPzPoZgQ49x/_ssgManifest.js" defer=""></script><script src="/_next/static/k2SjylS4DhAPzPoZgQ49x/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><div class="min-h-screen"><main><div class=""><div class="pt-40 pb-36 px-20 border-b-[1px] relative"><h1 class="font-bold tracking-tighter leading-tight md:leading-none mb-4 text-center text-3xl">Tistory Editor with Electron</h1><div class="flex justify-center"><em class="text-sm"><time dateTime="2016. 12. 15. 00:46">2016. 12. 15. 00:46</time></em></div></div><div class="w-[650px] pt-10 pb-20 mx-auto"><article class="prose"><p><a href="http://electron.atom.io/">Electron</a>은 오래전부터 알고 있었다. github에서 atom을 만들때 사용한 플랫폼을 공개한 것이다. nodejs에 그리 관심이 크진 않아서 무시하고 있었는데 한동안 react를 사용하다보니 자연스레 node에도 다시 관심이 생기고 그러다보니 electron에도 다시 관심이 생겼다.</p>
<h2 id="-">시작</h2>
<p>일단 시작은 몹시 쉽다.<code>npm install --save electron</code>으로 모듈을 불러오고 app을 위한 코드만 만들어두면 데스크탑앱이 떡하니 뜬다. 사실 처음 보이는 모습은 무슨 브라우저 같다. 예제가 &#39;Hello, world!&#39;를 말하는 index.html을 불러오는 거라 더 그렇다. 하지만 나에겐 react가 있지. 그리고 미리 만들어둔 <a href="http://editor.joostory.net">editor 비스므레한 코드</a>도 있다.</p>
<p>코드를 그대로 가져와서 넣고 실행을 해봤다. 엇! 뭔가 그럴듯하다. 별거 안했지만 electron이 앱처럼 만들어주니 진짜 데스크탑 앱같다. 조금 욕심이 난다. 원래 web버전으로 만든거지만 electron버전으로 변경해보기로 한다.</p>
<h2 id="-">뜻하지 않은 욕심</h2>
<p>원래는 글을 로컬에 저장하는 마크다운 에디터 같은 걸 만들려고 했다. 그래서 electron에서 제공하는 저장 api를 살펴보니 마땅한 것이 없다. <code>electron-json-storage</code>같은 것이 있지만 설정 저장용도 같다. sqlite를 써야하나라고 생각하는 순간. 웹버전에서 하려다가 여의치 않아 못하고 있던 OAuth2가 생각났다.</p>
<p>Browser to Server가 아니라 로컬 Client to Server라서 제약도 별로 없을 것이고 OAuth2 access token도 자유롭게 저장할 수 있을 것이니 딱 좋겠다. 싶었다. <code>electron-oauth2</code>라는 걸 찾아서 시도해봤다.</p>
<h2 id="-api-">끝없는 api와의 싸움</h2>
<p>이상하다. 티스토리에 OAuth2 연결이 안된다. 분명 다른 서비스들에 테스트했을 때는 잘됐는데 티스토리는 안된다. 200 ok 응답이 오지만 연결은 안된다. 이상해서 주고받는 값을 열어봤다. body에 xml로 에러메세지가 들어있었다. 이상하다. 분명히 json으로 요청을 했는데 응답이 xml이다. 그리고 분명히 200 ok 응답이 왔는데 에러메시지가 들어있다.</p>
<p>알고보니 티스토리 OAuth2가 예전에 만들어져서 그런지 몰라도 xml만 지원하고 있었고 응답은 무조건 200ok가 오는 것이었다. 에러는 에러메시지에 포함된 status값을 읽어야했다. 이건 client를 고쳐서 해결할 문제가 아니라고 판단했고 api를 고치기 시작했다. 회사가면 api를 수정해서 배포하고 집에 오면 수정된 값으로 잘 동작하는지 테스트하는 날들이 반복됐다.</p>
<h2 id="-">드디어 완료</h2>
<p><img src="https://t1.daumcdn.net/cfile/tistory/235E6438585169D332" alt="">
지루한 시간들이 지나가고 비록 알파버전이라고도 부르기 힘든 조악한 수준이지만 동작하는 앱이 드디어 만들어졌다. 디자인과 디테일한 부분들 몇이 남았지만 일단 이걸로 글을 쓸 수 있다는 것이 너무 기쁘다. 이게 뭐라고 정말 기쁘다. 그래서 잠도 안자고 글을 쓰고 있다. 남은 것들도 얼른 끝내서 짜잔하고 공개하고 싶다. 우히히히..</p>
<hr>
<p>언능 가서 이유식 만들고 자야겠다.</p>
            </article></div></div></main></div><footer class="bg-slate-100 border-t border-accent-2 mt-6"><div class="py-4 flex flex-col items-center justify-center text-xs text-slate-500"><a href="https://twitter.com/@JooStory">@JooStory</a></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"id":"443","date":"2016. 12. 15. 00:46","title":"Tistory Editor with Electron","content":"\u003cp\u003e\u003ca href=\"http://electron.atom.io/\"\u003eElectron\u003c/a\u003e은 오래전부터 알고 있었다. github에서 atom을 만들때 사용한 플랫폼을 공개한 것이다. nodejs에 그리 관심이 크진 않아서 무시하고 있었는데 한동안 react를 사용하다보니 자연스레 node에도 다시 관심이 생기고 그러다보니 electron에도 다시 관심이 생겼다.\u003c/p\u003e\n\u003ch2 id=\"-\"\u003e시작\u003c/h2\u003e\n\u003cp\u003e일단 시작은 몹시 쉽다.\u003ccode\u003enpm install --save electron\u003c/code\u003e으로 모듈을 불러오고 app을 위한 코드만 만들어두면 데스크탑앱이 떡하니 뜬다. 사실 처음 보이는 모습은 무슨 브라우저 같다. 예제가 \u0026#39;Hello, world!\u0026#39;를 말하는 index.html을 불러오는 거라 더 그렇다. 하지만 나에겐 react가 있지. 그리고 미리 만들어둔 \u003ca href=\"http://editor.joostory.net\"\u003eeditor 비스므레한 코드\u003c/a\u003e도 있다.\u003c/p\u003e\n\u003cp\u003e코드를 그대로 가져와서 넣고 실행을 해봤다. 엇! 뭔가 그럴듯하다. 별거 안했지만 electron이 앱처럼 만들어주니 진짜 데스크탑 앱같다. 조금 욕심이 난다. 원래 web버전으로 만든거지만 electron버전으로 변경해보기로 한다.\u003c/p\u003e\n\u003ch2 id=\"-\"\u003e뜻하지 않은 욕심\u003c/h2\u003e\n\u003cp\u003e원래는 글을 로컬에 저장하는 마크다운 에디터 같은 걸 만들려고 했다. 그래서 electron에서 제공하는 저장 api를 살펴보니 마땅한 것이 없다. \u003ccode\u003eelectron-json-storage\u003c/code\u003e같은 것이 있지만 설정 저장용도 같다. sqlite를 써야하나라고 생각하는 순간. 웹버전에서 하려다가 여의치 않아 못하고 있던 OAuth2가 생각났다.\u003c/p\u003e\n\u003cp\u003eBrowser to Server가 아니라 로컬 Client to Server라서 제약도 별로 없을 것이고 OAuth2 access token도 자유롭게 저장할 수 있을 것이니 딱 좋겠다. 싶었다. \u003ccode\u003eelectron-oauth2\u003c/code\u003e라는 걸 찾아서 시도해봤다.\u003c/p\u003e\n\u003ch2 id=\"-api-\"\u003e끝없는 api와의 싸움\u003c/h2\u003e\n\u003cp\u003e이상하다. 티스토리에 OAuth2 연결이 안된다. 분명 다른 서비스들에 테스트했을 때는 잘됐는데 티스토리는 안된다. 200 ok 응답이 오지만 연결은 안된다. 이상해서 주고받는 값을 열어봤다. body에 xml로 에러메세지가 들어있었다. 이상하다. 분명히 json으로 요청을 했는데 응답이 xml이다. 그리고 분명히 200 ok 응답이 왔는데 에러메시지가 들어있다.\u003c/p\u003e\n\u003cp\u003e알고보니 티스토리 OAuth2가 예전에 만들어져서 그런지 몰라도 xml만 지원하고 있었고 응답은 무조건 200ok가 오는 것이었다. 에러는 에러메시지에 포함된 status값을 읽어야했다. 이건 client를 고쳐서 해결할 문제가 아니라고 판단했고 api를 고치기 시작했다. 회사가면 api를 수정해서 배포하고 집에 오면 수정된 값으로 잘 동작하는지 테스트하는 날들이 반복됐다.\u003c/p\u003e\n\u003ch2 id=\"-\"\u003e드디어 완료\u003c/h2\u003e\n\u003cp\u003e\u003cimg src=\"https://t1.daumcdn.net/cfile/tistory/235E6438585169D332\" alt=\"\"\u003e\n지루한 시간들이 지나가고 비록 알파버전이라고도 부르기 힘든 조악한 수준이지만 동작하는 앱이 드디어 만들어졌다. 디자인과 디테일한 부분들 몇이 남았지만 일단 이걸로 글을 쓸 수 있다는 것이 너무 기쁘다. 이게 뭐라고 정말 기쁘다. 그래서 잠도 안자고 글을 쓰고 있다. 남은 것들도 얼른 끝내서 짜잔하고 공개하고 싶다. 우히히히..\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003e언능 가서 이유식 만들고 자야겠다.\u003c/p\u003e\n            ","summary":"Electron은 오래전부터 알고 있었다. github에서 atom을 만들때 사용한 플랫폼을 공개한 것이다. nodejs에 그리 관심이 크진 않아서 무시하고 있었는데 한동안 react를 사용하다보니 자연스레 node에도 다시 관심이 생기고 그러다보니 electron에도 다시 관심이 생겼다.\n시작\n일단 시작은 몹시 쉽다.npm install --save electron으로 모듈을 불러오고 app을 위한 코드만 만들어두면 데스크탑앱이 떡하니 뜬다. 사실 처","image":"https://img1.daumcdn.net/thumb/R800x0/?scode=mtistory2\u0026fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F235E6438585169D332"}},"__N_SSG":true},"page":"/tistory/[id]","query":{"id":"443"},"buildId":"k2SjylS4DhAPzPoZgQ49x","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>