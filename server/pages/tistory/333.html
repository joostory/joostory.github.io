<!DOCTYPE html><html lang="ko"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="shortcut icon" href="/favicon.ico"/><meta name="description" content="JooStory.net"/><meta property="og:image" content="https://og-image.vercel.app/Next.js%20Blog%20Starter%20Example.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg"/><link rel="canonical" href="https://blog.joostory.net/333"/><title>node.js + express + jqtpl</title><meta property="og:type" content="article"/><meta property="og:title" content="node.js + express + jqtpl"/><meta property="og:description" content="요즘 신기술이 넘쳐나고 있는데 나는 구닥다리 기술만 쓰고 있다는 생각이 들었다.
심지어 얼마전에야 ruby on rails, android를 알았다. -_-; 반성하자.

그래서 새로운 기술들만 써서 뭔가를 만들어보기로 했다.
오늘은 그 시작인 node.js로 웹서비스 만들기.

node.js
node.js는 v8 엔진을 통해 브라우저 밖에서 javascript를 사용할 수 있게 했다.
요즘 대세라고 할 수 있겠다.
설치는 아주 쉽다.
$ ./confi"/><meta property="og:image" content="https://t1.daumcdn.net/tistory_admin/static/images/openGraph/opengraph.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="node.js + express + jqtpl"/><meta name="twitter:description" content="요즘 신기술이 넘쳐나고 있는데 나는 구닥다리 기술만 쓰고 있다는 생각이 들었다.
심지어 얼마전에야 ruby on rails, android를 알았다. -_-; 반성하자.

그래서 새로운 기술들만 써서 뭔가를 만들어보기로 했다.
오늘은 그 시작인 node.js로 웹서비스 만들기.

node.js
node.js는 v8 엔진을 통해 브라우저 밖에서 javascript를 사용할 수 있게 했다.
요즘 대세라고 할 수 있겠다.
설치는 아주 쉽다.
$ ./confi"/><meta property="twitter:image" content="https://t1.daumcdn.net/tistory_admin/static/images/openGraph/opengraph.png"/><meta name="next-head-count" content="15"/><link rel="preload" href="/_next/static/css/11ae7950df9656c6.css" as="style"/><link rel="stylesheet" href="/_next/static/css/11ae7950df9656c6.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-69bfa6990bb9e155.js" defer=""></script><script src="/_next/static/chunks/framework-fc97f3f1282ce3ed.js" defer=""></script><script src="/_next/static/chunks/main-f4ae3437c92c1efc.js" defer=""></script><script src="/_next/static/chunks/pages/_app-f76bbe1730ea85a1.js" defer=""></script><script src="/_next/static/chunks/494-fa03e5491fc3b3a9.js" defer=""></script><script src="/_next/static/chunks/pages/tistory/%5Bid%5D-571a42114028488a.js" defer=""></script><script src="/_next/static/k2SjylS4DhAPzPoZgQ49x/_buildManifest.js" defer=""></script><script src="/_next/static/k2SjylS4DhAPzPoZgQ49x/_ssgManifest.js" defer=""></script><script src="/_next/static/k2SjylS4DhAPzPoZgQ49x/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><div class="min-h-screen"><main><div class=""><div class="pt-40 pb-36 px-20 border-b-[1px] relative"><h1 class="font-bold tracking-tighter leading-tight md:leading-none mb-4 text-center text-3xl">node.js + express + jqtpl</h1><div class="flex justify-center"><em class="text-sm"><time dateTime="2011. 12. 3. 01:20">2011. 12. 3. 01:20</time></em></div></div><div class="w-[650px] pt-10 pb-20 mx-auto"><article class="prose">요즘 신기술이 넘쳐나고 있는데 나는 구닥다리 기술만 쓰고 있다는 생각이 들었다.<br>
심지어 얼마전에야 ruby on rails, android를 알았다. -_-; 반성하자.<br>
<br>
그래서 새로운 기술들만 써서 뭔가를 만들어보기로 했다.<br>
오늘은 그 시작인 node.js로 웹서비스 만들기.<br>
<br>
<h3>node.js</h3>
<a title="[http://nodejs.org]로 이동합니다." target="_blank" href="http://nodejs.org">node.js</a>는 v8 엔진을 통해 브라우저 밖에서 javascript를 사용할 수 있게 했다.<br>
요즘 대세라고 할 수 있겠다.<br>
설치는 아주 쉽다.<br>
<blockquote class="brush:perl">$ ./configure --prefix=/usr/local<br>
$ sudo make install</blockquote><br>
추가 모듈의 설치도 npm을 통해서 쉽게 할 수 있다.<br>
<blockquote class="brush:perl">$ npm install [설치할 모듈명]</blockquote><br>
간단한 서버를 만드는 방법은 쉽지만 웹서비스를 만들기 위해서는 url을 적절한 함수로 연결해주어야 하는데 이 부분은 node.js에서 제공하고 있지는 않다. 그래서 rails 같이 url을 연결해주는 녀석을 찾았는데 바로 express이다.<br>
<br>
<br>
<h3>express</h3><a title="[http://expressjs.com/]로 이동합니다." target="_blank" href="http://expressjs.com/">express</a>는 node.js로 웹서비스를 쉽게 만들수 있도록 도와준다.<br>
닥치고 설치(? ^^;)부터 하는 스타일이라 일단 설치!<br>
설치는 npm을 사용해서 하면 되는데 -g 옵션을 주면 좀 더 편하게 쓸 수 있다. (PATH를 자동으로 걸어줘서)<br>
<blockquote class="brush:perl">$ sudo npm install express -g</blockquote><br>
자! 이제 프로젝트를 하나 만들어서 실행해보자.<br>
express는 뭔가 rails 비스무레한 방법을 사용하는데 역시 간단하다.<br>
<blockquote class="brush:perl">$ express hello&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # hello 라는 express 프로젝트 생성<br>
$ cd hello<br>
$ npm install -d&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # hello에 필요한 모듈 설치<br>
$ node app.js&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # hello 웹서비스 시작<br>
</blockquote><br>
개발 외적인 것들을 이렇게 편하게 만들어주니 개발자로서는 아주 좋다. 개발에만 전념할 수 있으니까.<br>
<br>
그런데 여기까지는 참 좋았는데 문제가 하나 생겼다.<br>
express는 <a title="[http://jade-lang.com/]로 이동합니다." target="_blank" href="http://jade-lang.com/">jade</a>라는 template engine을 사용하고 있었다.<br>
설명하기로는 사용하기 쉽고 성능이 좋다는데 이게 어딜봐서 사용하기 쉽나!!<br>
완전히 새로운 언어구만...<br>
<blockquote class="brush:javascript">!!!<br>
html<br>
&nbsp; head<br>
&nbsp;&nbsp;&nbsp; title= title<br>
&nbsp;&nbsp;&nbsp; link(rel='stylesheet', href='/stylesheets/style.css')<br>
&nbsp; body!= body</blockquote><br>
그래서 다른 engine이 없나 찾아봤다. 역시 <a title="[http://expressjs.com/guide.html#template-engines]로 이동합니다." target="_blank" href="http://expressjs.com/guide.html#template-engines">다른 engine으로 교체가 가능</a>했다.<br>
Haml, Jade, EJS, CoffeCup, jQuery Template 총 5개가 사용가능했는데 Haml, Jade는 비슷한 놈이고 CoffeCup도 가만보니 coffe script를 또 배워야 하는거고 그래서 jQuery Template를 써보기로 했다.<br>
(근데 생각해보니 새로운거 써보기로 하고 이거 하는건데 걍 jade쓸까? ^^;;)<br>
<br>
<br>
<h3>jQuery Template</h3>
<a title="[https://github.com/kof/node-jqtpl]로 이동합니다." target="_blank" href="https://github.com/kof/node-jqtpl">jQuery Template</a>(jqtpl)는 jQuery에서 template쓰듯이 쓸 수 있다. 아주 익숙한 방법으로..<br>
먼저 사용하기 위해서는 기본 설정인 jade를 jqtpl로 바꿔야 한다.<br>
app.js 에서 view engine을 jqtpl로 바꾸는 방법이다.<br>
<blockquote class="brush:javascript">app.configure(function(){<br>
&nbsp; app.set('views', __dirname + '/views');<br>
<br>
&nbsp; // jade를 삭제하고 .html 파일에서 jqtpl을 require한다.<br>
&nbsp; // app.set('view engine', 'jade');<br>
&nbsp; app.set('view engine', 'html');<br>
&nbsp; app.register(".html", require("jqtpl").express);<br>
<br>
&nbsp; app.use(express.bodyParser());<br>
&nbsp; app.use(express.methodOverride());<br>
&nbsp; app.use(app.router);<br>
&nbsp; app.use(express.static(__dirname + '/public'));<br>
});</blockquote><br>
자, 이제 당황스러운 문법의 jade보다는 훨씬 익숙하고 쉽게 view를 구성할 수 있다.<br>
layout을 써서 hello 페이지를 만들었다.<br>
<blockquote class="brush:html">// layout.html<br>
&lt;!doctype html&gt;<br>
&lt;html&gt;<br>
&lt;head&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;meta charset='utf-8'&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;title&gt;${title}&lt;/title&gt;<br>
&lt;/head&gt;<br>
&lt;body&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;h1&gt;${title}&lt;/h1&gt;<br>
&nbsp;&nbsp;&nbsp; {{html body}}<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>
<br>
// index.html<br>
{{layout "layout"}}<br>
&lt;p&gt;Hello&lt;/p&gt;</blockquote><br>
이제 준비는 모두 끝났고, 잘 만들어보면 되겠다.<br>
아! DB가 남았구나. MongoDB를 생각하고 있긴하지만 다른 더 좋은 것이 있다면 그걸 쓸 생각.<br>
<br>
끄~~읕.<br>
<br>            </article></div></div></main></div><footer class="bg-slate-100 border-t border-accent-2 mt-6"><div class="py-4 flex flex-col items-center justify-center text-xs text-slate-500"><a href="https://twitter.com/@JooStory">@JooStory</a></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"id":"333","date":"2011. 12. 3. 01:20","title":"node.js + express + jqtpl","content":"요즘 신기술이 넘쳐나고 있는데 나는 구닥다리 기술만 쓰고 있다는 생각이 들었다.\u003cbr\u003e\n심지어 얼마전에야 ruby on rails, android를 알았다. -_-; 반성하자.\u003cbr\u003e\n\u003cbr\u003e\n그래서 새로운 기술들만 써서 뭔가를 만들어보기로 했다.\u003cbr\u003e\n오늘은 그 시작인 node.js로 웹서비스 만들기.\u003cbr\u003e\n\u003cbr\u003e\n\u003ch3\u003enode.js\u003c/h3\u003e\n\u003ca title=\"[http://nodejs.org]로 이동합니다.\" target=\"_blank\" href=\"http://nodejs.org\"\u003enode.js\u003c/a\u003e는 v8 엔진을 통해 브라우저 밖에서 javascript를 사용할 수 있게 했다.\u003cbr\u003e\n요즘 대세라고 할 수 있겠다.\u003cbr\u003e\n설치는 아주 쉽다.\u003cbr\u003e\n\u003cblockquote class=\"brush:perl\"\u003e$ ./configure --prefix=/usr/local\u003cbr\u003e\n$ sudo make install\u003c/blockquote\u003e\u003cbr\u003e\n추가 모듈의 설치도 npm을 통해서 쉽게 할 수 있다.\u003cbr\u003e\n\u003cblockquote class=\"brush:perl\"\u003e$ npm install [설치할 모듈명]\u003c/blockquote\u003e\u003cbr\u003e\n간단한 서버를 만드는 방법은 쉽지만 웹서비스를 만들기 위해서는 url을 적절한 함수로 연결해주어야 하는데 이 부분은 node.js에서 제공하고 있지는 않다. 그래서 rails 같이 url을 연결해주는 녀석을 찾았는데 바로 express이다.\u003cbr\u003e\n\u003cbr\u003e\n\u003cbr\u003e\n\u003ch3\u003eexpress\u003c/h3\u003e\u003ca title=\"[http://expressjs.com/]로 이동합니다.\" target=\"_blank\" href=\"http://expressjs.com/\"\u003eexpress\u003c/a\u003e는 node.js로 웹서비스를 쉽게 만들수 있도록 도와준다.\u003cbr\u003e\n닥치고 설치(? ^^;)부터 하는 스타일이라 일단 설치!\u003cbr\u003e\n설치는 npm을 사용해서 하면 되는데 -g 옵션을 주면 좀 더 편하게 쓸 수 있다. (PATH를 자동으로 걸어줘서)\u003cbr\u003e\n\u003cblockquote class=\"brush:perl\"\u003e$ sudo npm install express -g\u003c/blockquote\u003e\u003cbr\u003e\n자! 이제 프로젝트를 하나 만들어서 실행해보자.\u003cbr\u003e\nexpress는 뭔가 rails 비스무레한 방법을 사용하는데 역시 간단하다.\u003cbr\u003e\n\u003cblockquote class=\"brush:perl\"\u003e$ express hello\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; # hello 라는 express 프로젝트 생성\u003cbr\u003e\n$ cd hello\u003cbr\u003e\n$ npm install -d\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; # hello에 필요한 모듈 설치\u003cbr\u003e\n$ node app.js\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; # hello 웹서비스 시작\u003cbr\u003e\n\u003c/blockquote\u003e\u003cbr\u003e\n개발 외적인 것들을 이렇게 편하게 만들어주니 개발자로서는 아주 좋다. 개발에만 전념할 수 있으니까.\u003cbr\u003e\n\u003cbr\u003e\n그런데 여기까지는 참 좋았는데 문제가 하나 생겼다.\u003cbr\u003e\nexpress는 \u003ca title=\"[http://jade-lang.com/]로 이동합니다.\" target=\"_blank\" href=\"http://jade-lang.com/\"\u003ejade\u003c/a\u003e라는 template engine을 사용하고 있었다.\u003cbr\u003e\n설명하기로는 사용하기 쉽고 성능이 좋다는데 이게 어딜봐서 사용하기 쉽나!!\u003cbr\u003e\n완전히 새로운 언어구만...\u003cbr\u003e\n\u003cblockquote class=\"brush:javascript\"\u003e!!!\u003cbr\u003e\nhtml\u003cbr\u003e\n\u0026nbsp; head\u003cbr\u003e\n\u0026nbsp;\u0026nbsp;\u0026nbsp; title= title\u003cbr\u003e\n\u0026nbsp;\u0026nbsp;\u0026nbsp; link(rel='stylesheet', href='/stylesheets/style.css')\u003cbr\u003e\n\u0026nbsp; body!= body\u003c/blockquote\u003e\u003cbr\u003e\n그래서 다른 engine이 없나 찾아봤다. 역시 \u003ca title=\"[http://expressjs.com/guide.html#template-engines]로 이동합니다.\" target=\"_blank\" href=\"http://expressjs.com/guide.html#template-engines\"\u003e다른 engine으로 교체가 가능\u003c/a\u003e했다.\u003cbr\u003e\nHaml, Jade, EJS, CoffeCup, jQuery Template 총 5개가 사용가능했는데 Haml, Jade는 비슷한 놈이고 CoffeCup도 가만보니 coffe script를 또 배워야 하는거고 그래서 jQuery Template를 써보기로 했다.\u003cbr\u003e\n(근데 생각해보니 새로운거 써보기로 하고 이거 하는건데 걍 jade쓸까? ^^;;)\u003cbr\u003e\n\u003cbr\u003e\n\u003cbr\u003e\n\u003ch3\u003ejQuery Template\u003c/h3\u003e\n\u003ca title=\"[https://github.com/kof/node-jqtpl]로 이동합니다.\" target=\"_blank\" href=\"https://github.com/kof/node-jqtpl\"\u003ejQuery Template\u003c/a\u003e(jqtpl)는 jQuery에서 template쓰듯이 쓸 수 있다. 아주 익숙한 방법으로..\u003cbr\u003e\n먼저 사용하기 위해서는 기본 설정인 jade를 jqtpl로 바꿔야 한다.\u003cbr\u003e\napp.js 에서 view engine을 jqtpl로 바꾸는 방법이다.\u003cbr\u003e\n\u003cblockquote class=\"brush:javascript\"\u003eapp.configure(function(){\u003cbr\u003e\n\u0026nbsp; app.set('views', __dirname + '/views');\u003cbr\u003e\n\u003cbr\u003e\n\u0026nbsp; // jade를 삭제하고 .html 파일에서 jqtpl을 require한다.\u003cbr\u003e\n\u0026nbsp; // app.set('view engine', 'jade');\u003cbr\u003e\n\u0026nbsp; app.set('view engine', 'html');\u003cbr\u003e\n\u0026nbsp; app.register(\".html\", require(\"jqtpl\").express);\u003cbr\u003e\n\u003cbr\u003e\n\u0026nbsp; app.use(express.bodyParser());\u003cbr\u003e\n\u0026nbsp; app.use(express.methodOverride());\u003cbr\u003e\n\u0026nbsp; app.use(app.router);\u003cbr\u003e\n\u0026nbsp; app.use(express.static(__dirname + '/public'));\u003cbr\u003e\n});\u003c/blockquote\u003e\u003cbr\u003e\n자, 이제 당황스러운 문법의 jade보다는 훨씬 익숙하고 쉽게 view를 구성할 수 있다.\u003cbr\u003e\nlayout을 써서 hello 페이지를 만들었다.\u003cbr\u003e\n\u003cblockquote class=\"brush:html\"\u003e// layout.html\u003cbr\u003e\n\u0026lt;!doctype html\u0026gt;\u003cbr\u003e\n\u0026lt;html\u0026gt;\u003cbr\u003e\n\u0026lt;head\u0026gt;\u003cbr\u003e\n\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;meta charset='utf-8'\u0026gt;\u003cbr\u003e\n\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;title\u0026gt;${title}\u0026lt;/title\u0026gt;\u003cbr\u003e\n\u0026lt;/head\u0026gt;\u003cbr\u003e\n\u0026lt;body\u0026gt;\u003cbr\u003e\n\u0026nbsp;\u0026nbsp;\u0026nbsp; \u0026lt;h1\u0026gt;${title}\u0026lt;/h1\u0026gt;\u003cbr\u003e\n\u0026nbsp;\u0026nbsp;\u0026nbsp; {{html body}}\u003cbr\u003e\n\u0026lt;/body\u0026gt;\u003cbr\u003e\n\u0026lt;/html\u0026gt;\u003cbr\u003e\n\u003cbr\u003e\n// index.html\u003cbr\u003e\n{{layout \"layout\"}}\u003cbr\u003e\n\u0026lt;p\u0026gt;Hello\u0026lt;/p\u0026gt;\u003c/blockquote\u003e\u003cbr\u003e\n이제 준비는 모두 끝났고, 잘 만들어보면 되겠다.\u003cbr\u003e\n아! DB가 남았구나. MongoDB를 생각하고 있긴하지만 다른 더 좋은 것이 있다면 그걸 쓸 생각.\u003cbr\u003e\n\u003cbr\u003e\n끄~~읕.\u003cbr\u003e\n\u003cbr\u003e            ","summary":"요즘 신기술이 넘쳐나고 있는데 나는 구닥다리 기술만 쓰고 있다는 생각이 들었다.\n심지어 얼마전에야 ruby on rails, android를 알았다. -_-; 반성하자.\n\n그래서 새로운 기술들만 써서 뭔가를 만들어보기로 했다.\n오늘은 그 시작인 node.js로 웹서비스 만들기.\n\nnode.js\nnode.js는 v8 엔진을 통해 브라우저 밖에서 javascript를 사용할 수 있게 했다.\n요즘 대세라고 할 수 있겠다.\n설치는 아주 쉽다.\n$ ./confi","image":"https://t1.daumcdn.net/tistory_admin/static/images/openGraph/opengraph.png"}},"__N_SSG":true},"page":"/tistory/[id]","query":{"id":"333"},"buildId":"k2SjylS4DhAPzPoZgQ49x","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>