<!DOCTYPE html><html lang="ko"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="shortcut icon" href="/favicon.ico"/><meta name="description" content="JooStory.net"/><meta property="og:image" content="https://og-image.vercel.app/Next.js%20Blog%20Starter%20Example.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg"/><link rel="canonical" href="https://blog.joostory.net/594"/><title>material-ui dark theme</title><meta property="og:type" content="article"/><meta property="og:title" content="material-ui dark theme"/><meta property="og:description" content="혹시나 theme를 변경하게 될까 싶어 앱 전체 UI 스타일을 css가 아닌 material-ui 자체 style로 만들었다. 하지만 theme를 변경하여 내맘대로 커스텀을 하려면 theme 전반에 대한 이해가 있어야 해서 약간 망설여지게 되었다. 감각없는 나에게 디자인 작업이라는 것은 아주 시간이 오래걸리고 힘든일이다.

결국 어찌어찌 수정해서 완료하기는 했는데 의외로 material-ui의 theme라는 것이 간단해서 어떤 부분을 건드렸는지, 어떤 "/><meta property="og:image" content="https://img1.daumcdn.net/thumb/R800x0/?scode=mtistory2&amp;fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F9927B74F5E64F28F20"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="material-ui dark theme"/><meta name="twitter:description" content="혹시나 theme를 변경하게 될까 싶어 앱 전체 UI 스타일을 css가 아닌 material-ui 자체 style로 만들었다. 하지만 theme를 변경하여 내맘대로 커스텀을 하려면 theme 전반에 대한 이해가 있어야 해서 약간 망설여지게 되었다. 감각없는 나에게 디자인 작업이라는 것은 아주 시간이 오래걸리고 힘든일이다.

결국 어찌어찌 수정해서 완료하기는 했는데 의외로 material-ui의 theme라는 것이 간단해서 어떤 부분을 건드렸는지, 어떤 "/><meta property="twitter:image" content="https://img1.daumcdn.net/thumb/R800x0/?scode=mtistory2&amp;fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F9927B74F5E64F28F20"/><meta name="next-head-count" content="15"/><link rel="preload" href="/_next/static/css/11ae7950df9656c6.css" as="style"/><link rel="stylesheet" href="/_next/static/css/11ae7950df9656c6.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-69bfa6990bb9e155.js" defer=""></script><script src="/_next/static/chunks/framework-fc97f3f1282ce3ed.js" defer=""></script><script src="/_next/static/chunks/main-f4ae3437c92c1efc.js" defer=""></script><script src="/_next/static/chunks/pages/_app-f76bbe1730ea85a1.js" defer=""></script><script src="/_next/static/chunks/494-fa03e5491fc3b3a9.js" defer=""></script><script src="/_next/static/chunks/pages/tistory/%5Bid%5D-571a42114028488a.js" defer=""></script><script src="/_next/static/k2SjylS4DhAPzPoZgQ49x/_buildManifest.js" defer=""></script><script src="/_next/static/k2SjylS4DhAPzPoZgQ49x/_ssgManifest.js" defer=""></script><script src="/_next/static/k2SjylS4DhAPzPoZgQ49x/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><div class="min-h-screen"><main><div class=""><div class="pt-40 pb-36 px-20 border-b-[1px] relative"><h1 class="font-bold tracking-tighter leading-tight md:leading-none mb-4 text-center text-3xl">material-ui dark theme</h1><div class="flex justify-center"><em class="text-sm"><time dateTime="2020. 3. 8. 22:55">2020. 3. 8. 22:55</time></em></div></div><div class="w-[650px] pt-10 pb-20 mx-auto"><article class="prose"><p>혹시나 theme를 변경하게 될까 싶어 앱 전체 UI 스타일을 css가 아닌 material-ui 자체 style로 만들었다. 하지만 theme를 변경하여 내맘대로 커스텀을 하려면 theme 전반에 대한 이해가 있어야 해서 약간 망설여지게 되었다. 감각없는 나에게 디자인 작업이라는 것은 아주 시간이 오래걸리고 힘든일이다.</p>
<p><img src="https://t1.daumcdn.net/cfile/tistory/9927B74F5E64F28F20" ></p>
<p>결국 어찌어찌 수정해서 완료하기는 했는데 의외로 material-ui의 theme라는 것이 간단해서 어떤 부분을 건드렸는지, 어떤 부분을 주의해야하는지 정리해보려고 한다.</p>
<h2>material-ui style</h2>
<p>material-ui의 style은 makeStyles로 theme를 이용하여 class들을 만들고 이를 component요소에 className으로 지정하는 방식이다. v1 릴리즈에서는 모든 스타일을 이런 식으로 변경하였다.</p>
<pre><code>const useStyles = makeStyles(theme =&gt; ({
  root: {
    margin: theme.spacing(2),
    backgroundColor: theme.palette.background.default
  }
}))</code></pre>
<p>여기서 주의할 점은 <code>backgroundColor</code>를 <code>#fff</code> 이런식으로 상수로 지정하지 않아야 한다는거다. 상수로 지정할 경우 theme 변경과 무관해지기 때문이다. 그래서 하나의 component에서만 사용하는 값이라고 할지라도 theme에 값을 추가해서 사용하는 것이 좋다.</p>
<h2>ThemeProvider</h2>
<p>theme를 커스텀 하는 방법은 App전체를 ThemeProvider로 감싼 후 createMuiTheme로 만든 theme를 넘겨주는 것이다.</p>
<pre><code>const theme = createMuiTheme({
  palette: {
    type: isDarkMode? 'dark' : 'light',
    primary: {
      main: '#f9dc41'
    }
  }
})

render(
  &lt;ThemeProvider theme={theme}&gt;
    &lt;App /&gt;
  &lt;/ThemeProvider&gt;
  , document.getElementById('root')
)</code></pre>
<p>여기서 주의할 점은 type을 dark 혹은 light로 변경했더라도 임의로 변경한 색은 고정된다는 점이다. 따라서 type에 따른 커스텀을 완전히 분리하여 작성하는 것이 좋다. material-ui에 기본색을 지정하면 type에서 사용하는 색을 알아서 어울리게 변경해주면 좋겠지만... 그런건 없다.</p>
<h2>dark mode 검증</h2>
<p>electron은 기본적으로 웹기술을 사용하므로 <code>prefers-color-scheme</code>로 다크모드를 사용하는지 알아낼 수 있다. 하지만 이걸 사용하는 웹페이지들을 본 사람들은 알겠지만 처음엔 값을 가져오지 못해서 light 모드가 나왔다가 로드된 후에 dark로 변경되는... 그러니까 첫 로딩에서 한번 깜빡이듯 변경된다.</p>
<p>electron은 아무래도 데스크탑앱의 기능도 사용가능하다보니 자체적으로 제공하는 dark mode api가 있다. <code>nativeTheme.shouldUseDarkColors</code>를 사용하면 깜빡임없이 즉시 이 값을 사용할 수 있다. 이건 물론 electron이라서 가능한 방법이다. renderer process에는 이 api가 없으니 <code>remote</code>를 사용해야 한다.</p>
<hr>
<p>나의 부족한 감각과 디테일한 부분을 무시하는 귀차니즘이 더해져 아주아주 간단한 부분만 그리고 어려운 부분은 색을 고정하는 것으로 마무리가 되었는데 이런 부분은 아마도 v2에서나 해결이 되지 않을까 싶다.</p>
<p>아! windows에서 다크모드를 사용하더라도 타이틀바는 여전히 흰색인데 이건 어째야할 지 모르겠다. stackoverflow에선 os 타이틀바를 사용하지 않고 직접 구현하라던데... 그건 v3이나 되어야 할 듯 ;;;</p>            </article></div></div></main></div><footer class="bg-slate-100 border-t border-accent-2 mt-6"><div class="py-4 flex flex-col items-center justify-center text-xs text-slate-500"><a href="https://twitter.com/@JooStory">@JooStory</a></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"id":"594","date":"2020. 3. 8. 22:55","title":"material-ui dark theme","content":"\u003cp\u003e혹시나 theme를 변경하게 될까 싶어 앱 전체 UI 스타일을 css가 아닌 material-ui 자체 style로 만들었다. 하지만 theme를 변경하여 내맘대로 커스텀을 하려면 theme 전반에 대한 이해가 있어야 해서 약간 망설여지게 되었다. 감각없는 나에게 디자인 작업이라는 것은 아주 시간이 오래걸리고 힘든일이다.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://t1.daumcdn.net/cfile/tistory/9927B74F5E64F28F20\" \u003e\u003c/p\u003e\n\u003cp\u003e결국 어찌어찌 수정해서 완료하기는 했는데 의외로 material-ui의 theme라는 것이 간단해서 어떤 부분을 건드렸는지, 어떤 부분을 주의해야하는지 정리해보려고 한다.\u003c/p\u003e\n\u003ch2\u003ematerial-ui style\u003c/h2\u003e\n\u003cp\u003ematerial-ui의 style은 makeStyles로 theme를 이용하여 class들을 만들고 이를 component요소에 className으로 지정하는 방식이다. v1 릴리즈에서는 모든 스타일을 이런 식으로 변경하였다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003econst useStyles = makeStyles(theme =\u0026gt; ({\n  root: {\n    margin: theme.spacing(2),\n    backgroundColor: theme.palette.background.default\n  }\n}))\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e여기서 주의할 점은 \u003ccode\u003ebackgroundColor\u003c/code\u003e를 \u003ccode\u003e#fff\u003c/code\u003e 이런식으로 상수로 지정하지 않아야 한다는거다. 상수로 지정할 경우 theme 변경과 무관해지기 때문이다. 그래서 하나의 component에서만 사용하는 값이라고 할지라도 theme에 값을 추가해서 사용하는 것이 좋다.\u003c/p\u003e\n\u003ch2\u003eThemeProvider\u003c/h2\u003e\n\u003cp\u003etheme를 커스텀 하는 방법은 App전체를 ThemeProvider로 감싼 후 createMuiTheme로 만든 theme를 넘겨주는 것이다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003econst theme = createMuiTheme({\n  palette: {\n    type: isDarkMode? 'dark' : 'light',\n    primary: {\n      main: '#f9dc41'\n    }\n  }\n})\n\nrender(\n  \u0026lt;ThemeProvider theme={theme}\u0026gt;\n    \u0026lt;App /\u0026gt;\n  \u0026lt;/ThemeProvider\u0026gt;\n  , document.getElementById('root')\n)\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e여기서 주의할 점은 type을 dark 혹은 light로 변경했더라도 임의로 변경한 색은 고정된다는 점이다. 따라서 type에 따른 커스텀을 완전히 분리하여 작성하는 것이 좋다. material-ui에 기본색을 지정하면 type에서 사용하는 색을 알아서 어울리게 변경해주면 좋겠지만... 그런건 없다.\u003c/p\u003e\n\u003ch2\u003edark mode 검증\u003c/h2\u003e\n\u003cp\u003eelectron은 기본적으로 웹기술을 사용하므로 \u003ccode\u003eprefers-color-scheme\u003c/code\u003e로 다크모드를 사용하는지 알아낼 수 있다. 하지만 이걸 사용하는 웹페이지들을 본 사람들은 알겠지만 처음엔 값을 가져오지 못해서 light 모드가 나왔다가 로드된 후에 dark로 변경되는... 그러니까 첫 로딩에서 한번 깜빡이듯 변경된다.\u003c/p\u003e\n\u003cp\u003eelectron은 아무래도 데스크탑앱의 기능도 사용가능하다보니 자체적으로 제공하는 dark mode api가 있다. \u003ccode\u003enativeTheme.shouldUseDarkColors\u003c/code\u003e를 사용하면 깜빡임없이 즉시 이 값을 사용할 수 있다. 이건 물론 electron이라서 가능한 방법이다. renderer process에는 이 api가 없으니 \u003ccode\u003eremote\u003c/code\u003e를 사용해야 한다.\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003e나의 부족한 감각과 디테일한 부분을 무시하는 귀차니즘이 더해져 아주아주 간단한 부분만 그리고 어려운 부분은 색을 고정하는 것으로 마무리가 되었는데 이런 부분은 아마도 v2에서나 해결이 되지 않을까 싶다.\u003c/p\u003e\n\u003cp\u003e아! windows에서 다크모드를 사용하더라도 타이틀바는 여전히 흰색인데 이건 어째야할 지 모르겠다. stackoverflow에선 os 타이틀바를 사용하지 않고 직접 구현하라던데... 그건 v3이나 되어야 할 듯 ;;;\u003c/p\u003e            ","summary":"혹시나 theme를 변경하게 될까 싶어 앱 전체 UI 스타일을 css가 아닌 material-ui 자체 style로 만들었다. 하지만 theme를 변경하여 내맘대로 커스텀을 하려면 theme 전반에 대한 이해가 있어야 해서 약간 망설여지게 되었다. 감각없는 나에게 디자인 작업이라는 것은 아주 시간이 오래걸리고 힘든일이다.\n\n결국 어찌어찌 수정해서 완료하기는 했는데 의외로 material-ui의 theme라는 것이 간단해서 어떤 부분을 건드렸는지, 어떤 ","image":"https://img1.daumcdn.net/thumb/R800x0/?scode=mtistory2\u0026fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F9927B74F5E64F28F20"}},"__N_SSG":true},"page":"/tistory/[id]","query":{"id":"594"},"buildId":"k2SjylS4DhAPzPoZgQ49x","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>