<!DOCTYPE html><html lang="ko"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="shortcut icon" href="/favicon.ico"/><meta name="description" content="JooStory.net"/><meta property="og:image" content="https://og-image.vercel.app/Next.js%20Blog%20Starter%20Example.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg"/><link rel="canonical" href="https://blog.joostory.net/500"/><title>OpenGraph를 사용한 미디어 삽입</title><meta property="og:type" content="article"/><meta property="og:title" content="OpenGraph를 사용한 미디어 삽입"/><meta property="og:description" content="Open Graph는 페이스북이 공유되는 외부 문서들을 효율적으로 관리하기 위해 고안한 프로토콜이다. 처음엔 &amp;lt;title&amp;gt; 이나 이미 존재하는 메타태그들로 가능한 걸 왜 이렇게 하나 싶었는데 점점 활용이 늘어나서 동영상, 오디오, 슬라이드 쇼, 음악 등등 별 것을 다 할 수 있게 되었다.
요즘엔 블로그에서도 참조 문서를 넣을 때 og를 사용해서 미리보기같은 모습으로 넣는 것을 지원한다.&amp;nbsp;브런치, 포스트가 할때만 해도 그냥 하나보다 했"/><meta property="og:image" content="https://img1.daumcdn.net/thumb/R800x0/?scode=mtistory2&amp;fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F217D303A594E74E527"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="OpenGraph를 사용한 미디어 삽입"/><meta name="twitter:description" content="Open Graph는 페이스북이 공유되는 외부 문서들을 효율적으로 관리하기 위해 고안한 프로토콜이다. 처음엔 &amp;lt;title&amp;gt; 이나 이미 존재하는 메타태그들로 가능한 걸 왜 이렇게 하나 싶었는데 점점 활용이 늘어나서 동영상, 오디오, 슬라이드 쇼, 음악 등등 별 것을 다 할 수 있게 되었다.
요즘엔 블로그에서도 참조 문서를 넣을 때 og를 사용해서 미리보기같은 모습으로 넣는 것을 지원한다.&amp;nbsp;브런치, 포스트가 할때만 해도 그냥 하나보다 했"/><meta property="twitter:image" content="https://img1.daumcdn.net/thumb/R800x0/?scode=mtistory2&amp;fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F217D303A594E74E527"/><meta name="next-head-count" content="15"/><link rel="preload" href="/_next/static/css/11ae7950df9656c6.css" as="style"/><link rel="stylesheet" href="/_next/static/css/11ae7950df9656c6.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-69bfa6990bb9e155.js" defer=""></script><script src="/_next/static/chunks/framework-fc97f3f1282ce3ed.js" defer=""></script><script src="/_next/static/chunks/main-f4ae3437c92c1efc.js" defer=""></script><script src="/_next/static/chunks/pages/_app-f76bbe1730ea85a1.js" defer=""></script><script src="/_next/static/chunks/494-fa03e5491fc3b3a9.js" defer=""></script><script src="/_next/static/chunks/pages/tistory/%5Bid%5D-571a42114028488a.js" defer=""></script><script src="/_next/static/k2SjylS4DhAPzPoZgQ49x/_buildManifest.js" defer=""></script><script src="/_next/static/k2SjylS4DhAPzPoZgQ49x/_ssgManifest.js" defer=""></script><script src="/_next/static/k2SjylS4DhAPzPoZgQ49x/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><div class="min-h-screen"><main><div class=""><div class="pt-40 pb-36 px-20 border-b-[1px] relative"><h1 class="font-bold tracking-tighter leading-tight md:leading-none mb-4 text-center text-3xl">OpenGraph를 사용한 미디어 삽입</h1><div class="flex justify-center"><em class="text-sm"><time dateTime="2017. 6. 24. 23:27">2017. 6. 24. 23:27</time></em></div></div><div class="w-[650px] pt-10 pb-20 mx-auto"><article class="prose"><p><a href="http://ogp.me/">Open Graph</a>는 페이스북이 공유되는 외부 문서들을 효율적으로 관리하기 위해 고안한 프로토콜이다. 처음엔 <code>&lt;title&gt;</code> 이나 이미 존재하는 메타태그들로 가능한 걸 왜 이렇게 하나 싶었는데 점점 활용이 늘어나서 동영상, 오디오, 슬라이드 쇼, 음악 등등 별 것을 다 할 수 있게 되었다.</p>
<p>요즘엔 블로그에서도 참조 문서를 넣을 때 og를 사용해서 미리보기같은 모습으로 넣는 것을 지원한다.&nbsp;<a href="https://brunch.co.kr">브런치</a>, <a href="https://post.naver.com">포스트</a>가 할때만 해도 그냥 하나보다 했는데 네이버 블로그가 해버리니 마치 반드시 필요한 기능같은 것이 되어버렸다. 사람들이 티스토리에는 왜 없냐고 자꾸 물어본다. 별다른 방법이 없어서 미루다가 tinymce에서는 이런 object를 다루기가 쉬워보여서 도전해보았다.</p>
<h2>기본 타입</h2>
<div style="position: relative; max-width: 470px; box-shadow: 0 1px 5px #999; margin: 10px auto;" data-opengraph-image="http://ogp.me/logo.png" data-opengraph-title="Open Graph protocol" data-opengraph-description="The Open Graph protocol enables any web page to become a rich object in a social graph." data-opengraph-host="ogp.me" data-opengraph-url="http://ogp.me/">
<div style="width: 100%; height: 235px; overflow: hidden;"><a href="http://ogp.me/"><img style="width: 470px;" src="http://ogp.me/logo.png"></a></div>
<div style="width: 100%; padding: 10px; box-sizing: border-box;"><a style="display: block; font-weight: 500; font-size: 18px; overflow: hidden; word-wrap: break-word; line-height: 25px; text-overflow: ellipsis; white-space: nowrap; color: #666; text-decoration: none;" href="http://ogp.me/">Open Graph protocol</a>
<div style="font-size: 12px; line-height: 18px; height: 36px; white-space: normal; -webkit-line-clamp: 2; -webkit-box-orient: vertical; text-overflow: ellipsis; display: -webkit-box; overflow: hidden; color: #666;">The Open Graph protocol enables any web page to become a rich object in a social graph.</div>
<div style="font-size: 11px; color: #999; line-height: 14px;">ogp.me</div>
</div>
</div>
<p>기본 타입은 <code>og:image</code>, <code>og:title</code>, <code>og:description</code> 를 사용해서 ui를 그럴 듯하게 만든 타입이다. 사실 이것 하나면 된다. 내가 생각해도 대부분 이걸로 커버가 될 것 같다.</p>
<h2>동영상 타입</h2>
<p><iframe src="https://www.youtube.com/embed/CVPFgrPUIzg?list=WL" width="560" height="315" frameborder="0" allowfullscreen="" data-opengraph-url="https://www.youtube.com/watch?v=CVPFgrPUIzg&amp;list=WL&amp;index=7"></iframe></p>
<p>동영상 타입은 타입이라고 하니까 좀 그런데... 걍 동영상이다. <code>og:type</code>이 <code>video</code>면 <code>og:video:url</code>을 <code>iframe</code>으로 넣는다. 그러고보니 그간 tinymce에 동영상 넣는 기능도 안 넣어뒀었다. 이걸로 해결!</p>
<h2>tinymce-plugin-opengraph</h2>
<p><a href="https://github.com/joostory/tinymce-plugin-opengraph">tinymce-plugin-opengraph</a>라는 플러그인을 만들었다. <a href="https://www.npmjs.com/package/tinymce-plugin-opengraph">npm</a>에도 등록했다. 플러그인 이름은 <strong>opengraph</strong>이고 command는 <code>mceOpengraph</code>, 단축키는 <code>meta + o</code>다. dialog로 삽입 ui가 뜨는데 생긴건 이렇다.<code></code></p>
<p style="text-align: center;"><img src="https://t1.daumcdn.net/cfile/tistory/217D303A594E74E527"></p>
<hr>
<p>또 이렇게 막상 넣고보니 너무 좋다. 클립보드 이미지 붙여넣기만큼이나 자주 사용할 것 같다. 그리고 단축키를 만든건 정말 잘한 것 같다. 정말 편하다.</p>
<p>(<a href="https://github.com/joostory/tistory-editor/releases/tag/0.3.7">Tistory Editor 0.3.7</a>부터 사용가능)</p>            </article></div></div></main></div><footer class="bg-slate-100 border-t border-accent-2 mt-6"><div class="py-4 flex flex-col items-center justify-center text-xs text-slate-500"><a href="https://twitter.com/@JooStory">@JooStory</a></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"id":"500","date":"2017. 6. 24. 23:27","title":"OpenGraph를 사용한 미디어 삽입","content":"\u003cp\u003e\u003ca href=\"http://ogp.me/\"\u003eOpen Graph\u003c/a\u003e는 페이스북이 공유되는 외부 문서들을 효율적으로 관리하기 위해 고안한 프로토콜이다. 처음엔 \u003ccode\u003e\u0026lt;title\u0026gt;\u003c/code\u003e 이나 이미 존재하는 메타태그들로 가능한 걸 왜 이렇게 하나 싶었는데 점점 활용이 늘어나서 동영상, 오디오, 슬라이드 쇼, 음악 등등 별 것을 다 할 수 있게 되었다.\u003c/p\u003e\n\u003cp\u003e요즘엔 블로그에서도 참조 문서를 넣을 때 og를 사용해서 미리보기같은 모습으로 넣는 것을 지원한다.\u0026nbsp;\u003ca href=\"https://brunch.co.kr\"\u003e브런치\u003c/a\u003e, \u003ca href=\"https://post.naver.com\"\u003e포스트\u003c/a\u003e가 할때만 해도 그냥 하나보다 했는데 네이버 블로그가 해버리니 마치 반드시 필요한 기능같은 것이 되어버렸다. 사람들이 티스토리에는 왜 없냐고 자꾸 물어본다. 별다른 방법이 없어서 미루다가 tinymce에서는 이런 object를 다루기가 쉬워보여서 도전해보았다.\u003c/p\u003e\n\u003ch2\u003e기본 타입\u003c/h2\u003e\n\u003cdiv style=\"position: relative; max-width: 470px; box-shadow: 0 1px 5px #999; margin: 10px auto;\" data-opengraph-image=\"http://ogp.me/logo.png\" data-opengraph-title=\"Open Graph protocol\" data-opengraph-description=\"The Open Graph protocol enables any web page to become a rich object in a social graph.\" data-opengraph-host=\"ogp.me\" data-opengraph-url=\"http://ogp.me/\"\u003e\n\u003cdiv style=\"width: 100%; height: 235px; overflow: hidden;\"\u003e\u003ca href=\"http://ogp.me/\"\u003e\u003cimg style=\"width: 470px;\" src=\"http://ogp.me/logo.png\"\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv style=\"width: 100%; padding: 10px; box-sizing: border-box;\"\u003e\u003ca style=\"display: block; font-weight: 500; font-size: 18px; overflow: hidden; word-wrap: break-word; line-height: 25px; text-overflow: ellipsis; white-space: nowrap; color: #666; text-decoration: none;\" href=\"http://ogp.me/\"\u003eOpen Graph protocol\u003c/a\u003e\n\u003cdiv style=\"font-size: 12px; line-height: 18px; height: 36px; white-space: normal; -webkit-line-clamp: 2; -webkit-box-orient: vertical; text-overflow: ellipsis; display: -webkit-box; overflow: hidden; color: #666;\"\u003eThe Open Graph protocol enables any web page to become a rich object in a social graph.\u003c/div\u003e\n\u003cdiv style=\"font-size: 11px; color: #999; line-height: 14px;\"\u003eogp.me\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cp\u003e기본 타입은 \u003ccode\u003eog:image\u003c/code\u003e, \u003ccode\u003eog:title\u003c/code\u003e, \u003ccode\u003eog:description\u003c/code\u003e 를 사용해서 ui를 그럴 듯하게 만든 타입이다. 사실 이것 하나면 된다. 내가 생각해도 대부분 이걸로 커버가 될 것 같다.\u003c/p\u003e\n\u003ch2\u003e동영상 타입\u003c/h2\u003e\n\u003cp\u003e\u003ciframe src=\"https://www.youtube.com/embed/CVPFgrPUIzg?list=WL\" width=\"560\" height=\"315\" frameborder=\"0\" allowfullscreen=\"\" data-opengraph-url=\"https://www.youtube.com/watch?v=CVPFgrPUIzg\u0026amp;list=WL\u0026amp;index=7\"\u003e\u003c/iframe\u003e\u003c/p\u003e\n\u003cp\u003e동영상 타입은 타입이라고 하니까 좀 그런데... 걍 동영상이다. \u003ccode\u003eog:type\u003c/code\u003e이 \u003ccode\u003evideo\u003c/code\u003e면 \u003ccode\u003eog:video:url\u003c/code\u003e을 \u003ccode\u003eiframe\u003c/code\u003e으로 넣는다. 그러고보니 그간 tinymce에 동영상 넣는 기능도 안 넣어뒀었다. 이걸로 해결!\u003c/p\u003e\n\u003ch2\u003etinymce-plugin-opengraph\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/joostory/tinymce-plugin-opengraph\"\u003etinymce-plugin-opengraph\u003c/a\u003e라는 플러그인을 만들었다. \u003ca href=\"https://www.npmjs.com/package/tinymce-plugin-opengraph\"\u003enpm\u003c/a\u003e에도 등록했다. 플러그인 이름은 \u003cstrong\u003eopengraph\u003c/strong\u003e이고 command는 \u003ccode\u003emceOpengraph\u003c/code\u003e, 단축키는 \u003ccode\u003emeta + o\u003c/code\u003e다. dialog로 삽입 ui가 뜨는데 생긴건 이렇다.\u003ccode\u003e\u003c/code\u003e\u003c/p\u003e\n\u003cp style=\"text-align: center;\"\u003e\u003cimg src=\"https://t1.daumcdn.net/cfile/tistory/217D303A594E74E527\"\u003e\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003e또 이렇게 막상 넣고보니 너무 좋다. 클립보드 이미지 붙여넣기만큼이나 자주 사용할 것 같다. 그리고 단축키를 만든건 정말 잘한 것 같다. 정말 편하다.\u003c/p\u003e\n\u003cp\u003e(\u003ca href=\"https://github.com/joostory/tistory-editor/releases/tag/0.3.7\"\u003eTistory Editor 0.3.7\u003c/a\u003e부터 사용가능)\u003c/p\u003e            ","summary":"Open Graph는 페이스북이 공유되는 외부 문서들을 효율적으로 관리하기 위해 고안한 프로토콜이다. 처음엔 \u0026lt;title\u0026gt; 이나 이미 존재하는 메타태그들로 가능한 걸 왜 이렇게 하나 싶었는데 점점 활용이 늘어나서 동영상, 오디오, 슬라이드 쇼, 음악 등등 별 것을 다 할 수 있게 되었다.\n요즘엔 블로그에서도 참조 문서를 넣을 때 og를 사용해서 미리보기같은 모습으로 넣는 것을 지원한다.\u0026nbsp;브런치, 포스트가 할때만 해도 그냥 하나보다 했","image":"https://img1.daumcdn.net/thumb/R800x0/?scode=mtistory2\u0026fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F217D303A594E74E527"}},"__N_SSG":true},"page":"/tistory/[id]","query":{"id":"500"},"buildId":"k2SjylS4DhAPzPoZgQ49x","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>