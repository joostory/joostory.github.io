{"pageProps":{"post":{"id":"118","date":"2008. 10. 9. 23:07","title":"Velocity #macro 사용 방법","content":"Velocity는 java method를 사용할 수 있어서 굉장히 좋긴한데 적당한 에디터가 없어서 참 안타깝습니다. 하나하나 기억하면서 코드를 써야하다니... ㅠ<br>\n<br>어쨌거나 Velocity의 자체 함수라 할 수 있는 #macro 사용법에 대해 정리해봅니다.<br>\n<blockquote class=\"brush:perl txc-textbox\">#macro(hello)<br>\n&nbsp; hello, world<br>\n#end</blockquote>\n<br>이렇게 정의된 #macro는 <br>\n<br><blockquote class=\"brush:perl txc-textbox\">\n#hello()</blockquote>\n<br>이렇게 사용할 수 있습니다.<br>\n<br>인자를 넘겨주는 방법은<br>\n<blockquote class=\"brush:perl txc-textbox\">#macro(hello $name)<br>\n&nbsp; hello, $name<br>\n#end</blockquote>\n<br>이 #macro를 사용하는 방법은 다음과 같습니다.<br>\n<br><blockquote class=\"brush:perl txc-textbox\">\n#hello(\"Joo\")</blockquote>\n<br>여러 인자를 넘겨주기 위해서는 공백으로 인자를 나열하면 됩니다.<br>\n<br>이를 이용해서 List의 paging을 구현해 보았습니다.<br>\n<br><blockquote class=\"brush:perl txc-textbox\">\n#macro(printPageNavigationBar $pageNo $pageStart $pageEnd $pageCount $url)<br>\n<br>&nbsp;&nbsp;&nbsp; #set ($left_arrow = \"&lt;img src='left_arrow.gif' alt='왼쪽 화살표' /&gt;\")<br>\n&nbsp;&nbsp;&nbsp; #set ($left_big_arrow = \"&lt;img src='left_big_arrow.gif' alt='왼쪽 쌍화살표' /&gt;\")<br>\n&nbsp;&nbsp;&nbsp; #set ($right_arrow = \"&lt;img src='right_arrow.gif' alt='오른쪽 쌍화살표' /&gt;\")<br>\n&nbsp;&nbsp;&nbsp; #set ($right_big_arrow = \"&lt;img src='right_big_arrow.gif' alt='오른쪽 쌍화살표' /&gt;\")<br>\n<br>&nbsp;&nbsp;&nbsp; #if ($pageStart &gt; 1)<br>\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #set ($pagePrev = $pageStart - 1)<br>\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;a href='${url}?pageNo=1' title='첫 페이지로 이동'&gt;${left_big_arrow}&lt;/a&gt;<br>\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;a href='${url}?pageNo=${pagePrev}' title='${pagePrev} 페이지로 이동'&gt;${left_arrow}&lt;/a&gt;<br>\n&nbsp;&nbsp;&nbsp; #else<br>\n&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; ${left_big_arrow}<br>\n&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; ${left_arrow}<br>\n&nbsp;&nbsp;&nbsp; #end&nbsp;&nbsp;&nbsp; <br>\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>\n&nbsp;&nbsp;&nbsp; #foreach ( $i in [$pageStart..$pageEnd] )<br>\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #if ($pageNo == $i)<br>\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ${i}<br>\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #else<br>\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;a href='${url}?pageNo=$i' title='${i}페이지로 이동'&gt;${i}&lt;/a&gt;<br>\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #end<br>\n&nbsp;&nbsp;&nbsp; #end<br>\n<br>&nbsp;&nbsp;&nbsp; #if ($pageEnd &lt; $pageCount)<br>\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #set ($pageNext = $pageEnd + 1)<br>\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;a href='${url}?pageNo=${pageNext}' title='${pageNext} 페이지로 이동'&gt;${right_arrow}&lt;/a&gt;<br>\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;a href='${url}?pageNo=${pageCount}' title='마지막 페이지로 이동'&gt;${right_big_arrow}&lt;/a&gt;<br>\n&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; #else<br>\n&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; ${right_arrow}<br>\n&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; ${right_big_arrow}<br>\n&nbsp;&nbsp;&nbsp; #end&nbsp;&nbsp;&nbsp;&nbsp; <br>\n#end</blockquote>\n<br>열심히 구현하고서 아주 만족하고 있었는데..<br>\n정작 적용하려는 코드에서는 Java를 이용한 방법으로 깔끔히 구현되어 있더라는... -_-;;;;;<br>\n뭘 한거죠? ㅠㅠ<br>\n<br><br>\n\n<p><br></p>            ","summary":"Velocity는 java method를 사용할 수 있어서 굉장히 좋긴한데 적당한 에디터가 없어서 참 안타깝습니다. 하나하나 기억하면서 코드를 써야하다니... ㅠ\n어쨌거나 Velocity의 자체 함수라 할 수 있는 #macro 사용법에 대해 정리해봅니다.\n#macro(hello)\n&nbsp; hello, world\n#end\n이렇게 정의된 #macro는 \n\n#hello()\n이렇게 사용할 수 있습니다.\n인자를 넘겨주는 방법은\n#macro(hello $nam","image":"https://t1.daumcdn.net/tistory_admin/static/images/openGraph/opengraph.png"}},"__N_SSG":true}