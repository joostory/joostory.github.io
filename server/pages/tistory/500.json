{"pageProps":{"post":{"id":"500","date":"2017. 6. 24. 23:27","title":"OpenGraph를 사용한 미디어 삽입","content":"<p><a href=\"http://ogp.me/\">Open Graph</a>는 페이스북이 공유되는 외부 문서들을 효율적으로 관리하기 위해 고안한 프로토콜이다. 처음엔 <code>&lt;title&gt;</code> 이나 이미 존재하는 메타태그들로 가능한 걸 왜 이렇게 하나 싶었는데 점점 활용이 늘어나서 동영상, 오디오, 슬라이드 쇼, 음악 등등 별 것을 다 할 수 있게 되었다.</p>\n<p>요즘엔 블로그에서도 참조 문서를 넣을 때 og를 사용해서 미리보기같은 모습으로 넣는 것을 지원한다.&nbsp;<a href=\"https://brunch.co.kr\">브런치</a>, <a href=\"https://post.naver.com\">포스트</a>가 할때만 해도 그냥 하나보다 했는데 네이버 블로그가 해버리니 마치 반드시 필요한 기능같은 것이 되어버렸다. 사람들이 티스토리에는 왜 없냐고 자꾸 물어본다. 별다른 방법이 없어서 미루다가 tinymce에서는 이런 object를 다루기가 쉬워보여서 도전해보았다.</p>\n<h2>기본 타입</h2>\n<div style=\"position: relative; max-width: 470px; box-shadow: 0 1px 5px #999; margin: 10px auto;\" data-opengraph-image=\"http://ogp.me/logo.png\" data-opengraph-title=\"Open Graph protocol\" data-opengraph-description=\"The Open Graph protocol enables any web page to become a rich object in a social graph.\" data-opengraph-host=\"ogp.me\" data-opengraph-url=\"http://ogp.me/\">\n<div style=\"width: 100%; height: 235px; overflow: hidden;\"><a href=\"http://ogp.me/\"><img style=\"width: 470px;\" src=\"http://ogp.me/logo.png\"></a></div>\n<div style=\"width: 100%; padding: 10px; box-sizing: border-box;\"><a style=\"display: block; font-weight: 500; font-size: 18px; overflow: hidden; word-wrap: break-word; line-height: 25px; text-overflow: ellipsis; white-space: nowrap; color: #666; text-decoration: none;\" href=\"http://ogp.me/\">Open Graph protocol</a>\n<div style=\"font-size: 12px; line-height: 18px; height: 36px; white-space: normal; -webkit-line-clamp: 2; -webkit-box-orient: vertical; text-overflow: ellipsis; display: -webkit-box; overflow: hidden; color: #666;\">The Open Graph protocol enables any web page to become a rich object in a social graph.</div>\n<div style=\"font-size: 11px; color: #999; line-height: 14px;\">ogp.me</div>\n</div>\n</div>\n<p>기본 타입은 <code>og:image</code>, <code>og:title</code>, <code>og:description</code> 를 사용해서 ui를 그럴 듯하게 만든 타입이다. 사실 이것 하나면 된다. 내가 생각해도 대부분 이걸로 커버가 될 것 같다.</p>\n<h2>동영상 타입</h2>\n<p><iframe src=\"https://www.youtube.com/embed/CVPFgrPUIzg?list=WL\" width=\"560\" height=\"315\" frameborder=\"0\" allowfullscreen=\"\" data-opengraph-url=\"https://www.youtube.com/watch?v=CVPFgrPUIzg&amp;list=WL&amp;index=7\"></iframe></p>\n<p>동영상 타입은 타입이라고 하니까 좀 그런데... 걍 동영상이다. <code>og:type</code>이 <code>video</code>면 <code>og:video:url</code>을 <code>iframe</code>으로 넣는다. 그러고보니 그간 tinymce에 동영상 넣는 기능도 안 넣어뒀었다. 이걸로 해결!</p>\n<h2>tinymce-plugin-opengraph</h2>\n<p><a href=\"https://github.com/joostory/tinymce-plugin-opengraph\">tinymce-plugin-opengraph</a>라는 플러그인을 만들었다. <a href=\"https://www.npmjs.com/package/tinymce-plugin-opengraph\">npm</a>에도 등록했다. 플러그인 이름은 <strong>opengraph</strong>이고 command는 <code>mceOpengraph</code>, 단축키는 <code>meta + o</code>다. dialog로 삽입 ui가 뜨는데 생긴건 이렇다.<code></code></p>\n<p style=\"text-align: center;\"><img src=\"https://t1.daumcdn.net/cfile/tistory/217D303A594E74E527\"></p>\n<hr>\n<p>또 이렇게 막상 넣고보니 너무 좋다. 클립보드 이미지 붙여넣기만큼이나 자주 사용할 것 같다. 그리고 단축키를 만든건 정말 잘한 것 같다. 정말 편하다.</p>\n<p>(<a href=\"https://github.com/joostory/tistory-editor/releases/tag/0.3.7\">Tistory Editor 0.3.7</a>부터 사용가능)</p>            ","summary":"Open Graph는 페이스북이 공유되는 외부 문서들을 효율적으로 관리하기 위해 고안한 프로토콜이다. 처음엔 &lt;title&gt; 이나 이미 존재하는 메타태그들로 가능한 걸 왜 이렇게 하나 싶었는데 점점 활용이 늘어나서 동영상, 오디오, 슬라이드 쇼, 음악 등등 별 것을 다 할 수 있게 되었다.\n요즘엔 블로그에서도 참조 문서를 넣을 때 og를 사용해서 미리보기같은 모습으로 넣는 것을 지원한다.&nbsp;브런치, 포스트가 할때만 해도 그냥 하나보다 했","image":"https://img1.daumcdn.net/thumb/R800x0/?scode=mtistory2&fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F217D303A594E74E527"}},"__N_SSG":true}