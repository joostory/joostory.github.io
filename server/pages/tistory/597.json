{"pageProps":{"post":{"id":"597","date":"2020. 4. 14. 16:55","title":"초단간 웹사이트 다크모드","content":"<div class=\"opengraph\" style=\"position: relative; height: 100px; box-shadow: 0 1px 5px #999; margin: 10px auto 30px; overflow: hidden;\" data-opengraph-image=\"\" data-opengraph-title=\"Minimum viable dark mode\" data-opengraph-description=\"How to create a quick and dirty dark mode for simple apps and websites using pure CSS.\" data-opengraph-host=\"chasem.co\" data-opengraph-url=\"https://chasem.co/2019/09/mvp-dark-mode\">\n<div style=\"position: absolute; left: 0px; right: 0; top: 0; bottom: 0; padding: 10px; box-sizing: border-box;\"><a style=\"display: block; font-weight: 500; font-size: 18px; overflow: hidden; word-wrap: break-word; line-height: 25px; text-overflow: ellipsis; white-space: nowrap; color: #666; text-decoration: none;\" href=\"https://chasem.co/2019/09/mvp-dark-mode\">Minimum viable dark mode</a>\n<div style=\"font-size: 12px; line-height: 18px; height: 36px; white-space: normal; -webkit-line-clamp: 2; -webkit-box-orient: vertical; text-overflow: ellipsis; display: -webkit-box; overflow: hidden; color: #666;\">How to create a quick and dirty dark mode for simple apps and websites using pure CSS.</div>\n<div style=\"font-size: 11px; color: #999; line-height: 14px;\">chasem.co</div>\n</div>\n</div>\n<p>자동으로 다크모드에 어울리는 색 구성을 만들어주면 좋겠다는 생각을 했는데 css로 그것이 구현가능했다. 방법은 css의 filter function인 <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/filter-function/invert\">invert</a>와 <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/filter-function/hue-rotate\">hue-rotate</a>를 사용하는 것이다. <code>invert(100%)</code>를 사용하면 색이 반전되고 다시 <code>invert(100%)</code>를 하면 원래대로 돌아온다. hue-rotate는 정확히 맞는지는 모르겠지만 생상좌표를 회전하는 것같다. 그래서 <code>hue-rotate(25deg)</code>를 했다면 <code>hue-rotate(-25deg)</code>로 되돌릴 수 있다.</p>\n<pre><code>@media (prefers-color-scheme: dark) {\n  filter: invert(90%) hue-rotate(25deg);\n}\n\n@media (prefers-color-scheme: dark) {\n  img, video, iframe {\n    filter: invert(100%) hue-rotate(-25deg);\n  }\n}</code></pre>\n<p>그러니까 여기서 하라고 하는 것은 전체를 반전한 후에 img, iframe, video만 다시 원래대로 되돌리는 것이다. 나는 여기에 소스코드를 위해 <code>pre</code>도 추가했다. 추가로 내가 수정해서 사용하고 있는 티스토리의 #1 스킨은 body에 background 설정이 되어 있는데 이걸로 반전이 제대로 안되서 전체를 감싸는 div에 추가로 background 지정을 했더니 원하는대로 동작했다. 그건 왜 그러는지 아직 파악하지 못했다.</p>\n<p><img src=\"https://t1.daumcdn.net/cfile/tistory/998776375E956BAD32\" ></p>\n<p>문제가 한가지 있는데 <code>background-image</code>를 사용해서 디자인된 요소 중에서 원래 색을 사용해야할 것과 아닌 것이 있는데 이를 구분해서 처리할 수 없다는 점이다. 이런 건 각각 구분해서 지정이 필요하다. (하지만 난 귀찮아서 하지 않지)</p>\n<p>어쨌든 쉽고 편리한 꼼수가 있어서 정말 다행이다. 고생할 뻔했다. 고생해도 이거보다 잘할 자신도 없고 ;;;</p>            ","summary":"\nMinimum viable dark mode\nHow to create a quick and dirty dark mode for simple apps and websites using pure CSS.\nchasem.co\n\n\n자동으로 다크모드에 어울리는 색 구성을 만들어주면 좋겠다는 생각을 했는데 css로 그것이 구현가능했다. 방법은 css의 filter function인 invert와 hue-rotate를 사용하는 것이다. invert(100%)를 사용","image":"https://img1.daumcdn.net/thumb/R800x0/?scode=mtistory2&fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F998776375E956BAD32"}},"__N_SSG":true}