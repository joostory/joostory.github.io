<!DOCTYPE html><html lang="ko"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="shortcut icon" href="/favicon.ico"/><meta name="description" content="JooStory.net"/><meta property="og:image" content="https://og-image.vercel.app/Next.js%20Blog%20Starter%20Example.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg"/><link rel="canonical" href="https://blog.joostory.net/522"/><title>PHP array_filter 사용법</title><meta property="og:type" content="article"/><meta property="og:title" content="PHP array_filter 사용법"/><meta property="og:description" content="뜬금없이 array_filter의 사용법을 게다가 PHP의 사용법을 정리하는 이유는 PHP 특성상의 문제로 약간 의도와 다르게 동작하는 것이 있어서다.
&lt;code&gt;$values = [&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;,&#x27;d&#x27;];
echo json_encode(
  array_filter($values, function($value) {
    return $value != &#x27;b&#x27;;
  })
);&lt;/code&gt;
내가 하고 싶었던 일은 단순히 array에서 특정값을 제외하"/><meta property="og:image" content="https://t1.daumcdn.net/tistory_admin/static/images/openGraph/opengraph.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="PHP array_filter 사용법"/><meta name="twitter:description" content="뜬금없이 array_filter의 사용법을 게다가 PHP의 사용법을 정리하는 이유는 PHP 특성상의 문제로 약간 의도와 다르게 동작하는 것이 있어서다.
&lt;code&gt;$values = [&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;,&#x27;d&#x27;];
echo json_encode(
  array_filter($values, function($value) {
    return $value != &#x27;b&#x27;;
  })
);&lt;/code&gt;
내가 하고 싶었던 일은 단순히 array에서 특정값을 제외하"/><meta property="twitter:image" content="https://t1.daumcdn.net/tistory_admin/static/images/openGraph/opengraph.png"/><meta name="next-head-count" content="15"/><link rel="preload" href="/_next/static/css/11ae7950df9656c6.css" as="style"/><link rel="stylesheet" href="/_next/static/css/11ae7950df9656c6.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-69bfa6990bb9e155.js" defer=""></script><script src="/_next/static/chunks/framework-fc97f3f1282ce3ed.js" defer=""></script><script src="/_next/static/chunks/main-f4ae3437c92c1efc.js" defer=""></script><script src="/_next/static/chunks/pages/_app-f76bbe1730ea85a1.js" defer=""></script><script src="/_next/static/chunks/494-fa03e5491fc3b3a9.js" defer=""></script><script src="/_next/static/chunks/pages/tistory/%5Bid%5D-571a42114028488a.js" defer=""></script><script src="/_next/static/k2SjylS4DhAPzPoZgQ49x/_buildManifest.js" defer=""></script><script src="/_next/static/k2SjylS4DhAPzPoZgQ49x/_ssgManifest.js" defer=""></script><script src="/_next/static/k2SjylS4DhAPzPoZgQ49x/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><div class="min-h-screen"><main><div class=""><div class="pt-40 pb-36 px-20 border-b-[1px] relative"><h1 class="font-bold tracking-tighter leading-tight md:leading-none mb-4 text-center text-3xl">PHP array_filter 사용법</h1><div class="flex justify-center"><em class="text-sm"><time dateTime="2018. 2. 1. 15:27">2018. 2. 1. 15:27</time></em></div></div><div class="w-[650px] pt-10 pb-20 mx-auto"><article class="prose"><p>뜬금없이 <code>array_filter</code>의 사용법을 게다가 PHP의 사용법을 정리하는 이유는 PHP 특성상의 문제로 약간 의도와 다르게 동작하는 것이 있어서다.</p>
<pre><code>$values = ['a','b','c','d'];
echo json_encode(
  array_filter($values, function($value) {
    return $value != 'b';
  })
);</code></pre>
<p>내가 하고 싶었던 일은 단순히 array에서 특정값을 제외하기를 원했다. <code>foreach</code>를 돌려서 빼내도 되지만 가급적 미리 제공되는 함수를 써보려고 했다. 예상한 결과는 당연하게도 <code>['a','c','d']</code> 다. 그런데 결과는 어떻게 나왔을까?</p>
<pre><code>{"0":"a","2":"c","3":"d"}</code></pre>
<p>이런 결과가 나오는 이유는 PHP에서 array는 object이기도 하기 때문이었다.</p>
<pre><code>$values = [1,2,3];
$values = [
  '0' =&gt; 1,
  '1' =&gt; 2,
  '2' =&gt; 3
];</code></pre>
<p>이 두개의 array는 PHP에서는 같은 데이터다. 하지만 key가 0부터 순서대로 증가하지 않는다면 json_encode의 결과에서는 object로 다르게 나타난다. 요런 다소 황당한 이유때문에 array_filter의 결과로 array를 원한다면 key를 빼고 value들로만 다시 array를 만들어야 한다. (이럴거면 그냥 foreach 쓰지 그랬냐!! ㅠㅠ)</p>
<pre><code>$values = ['a','b','c','d'];
echo json_encode(
  array_values(array_filter($values, function($value) {
    return $value != 'b';
  }))
);

// result: ['a','c','d']</code></pre>
<p>PHP를 한번 더 이해하게 된 소.. 소.. 소... 소중한 시간이었다.</p>            </article></div></div></main></div><footer class="bg-slate-100 border-t border-accent-2 mt-6"><div class="py-4 flex flex-col items-center justify-center text-xs text-slate-500"><a href="https://twitter.com/@JooStory">@JooStory</a></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"id":"522","date":"2018. 2. 1. 15:27","title":"PHP array_filter 사용법","content":"\u003cp\u003e뜬금없이 \u003ccode\u003earray_filter\u003c/code\u003e의 사용법을 게다가 PHP의 사용법을 정리하는 이유는 PHP 특성상의 문제로 약간 의도와 다르게 동작하는 것이 있어서다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$values = ['a','b','c','d'];\necho json_encode(\n  array_filter($values, function($value) {\n    return $value != 'b';\n  })\n);\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e내가 하고 싶었던 일은 단순히 array에서 특정값을 제외하기를 원했다. \u003ccode\u003eforeach\u003c/code\u003e를 돌려서 빼내도 되지만 가급적 미리 제공되는 함수를 써보려고 했다. 예상한 결과는 당연하게도 \u003ccode\u003e['a','c','d']\u003c/code\u003e 다. 그런데 결과는 어떻게 나왔을까?\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e{\"0\":\"a\",\"2\":\"c\",\"3\":\"d\"}\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e이런 결과가 나오는 이유는 PHP에서 array는 object이기도 하기 때문이었다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$values = [1,2,3];\n$values = [\n  '0' =\u0026gt; 1,\n  '1' =\u0026gt; 2,\n  '2' =\u0026gt; 3\n];\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e이 두개의 array는 PHP에서는 같은 데이터다. 하지만 key가 0부터 순서대로 증가하지 않는다면 json_encode의 결과에서는 object로 다르게 나타난다. 요런 다소 황당한 이유때문에 array_filter의 결과로 array를 원한다면 key를 빼고 value들로만 다시 array를 만들어야 한다. (이럴거면 그냥 foreach 쓰지 그랬냐!! ㅠㅠ)\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$values = ['a','b','c','d'];\necho json_encode(\n  array_values(array_filter($values, function($value) {\n    return $value != 'b';\n  }))\n);\n\n// result: ['a','c','d']\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ePHP를 한번 더 이해하게 된 소.. 소.. 소... 소중한 시간이었다.\u003c/p\u003e            ","summary":"뜬금없이 array_filter의 사용법을 게다가 PHP의 사용법을 정리하는 이유는 PHP 특성상의 문제로 약간 의도와 다르게 동작하는 것이 있어서다.\n\u003ccode\u003e$values = ['a','b','c','d'];\necho json_encode(\n  array_filter($values, function($value) {\n    return $value != 'b';\n  })\n);\u003c/code\u003e\n내가 하고 싶었던 일은 단순히 array에서 특정값을 제외하","image":"https://t1.daumcdn.net/tistory_admin/static/images/openGraph/opengraph.png"}},"__N_SSG":true},"page":"/tistory/[id]","query":{"id":"522"},"buildId":"k2SjylS4DhAPzPoZgQ49x","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>