<!DOCTYPE html><html lang="ko"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="shortcut icon" href="/favicon.ico"/><meta name="description" content="JooStory.net"/><meta property="og:image" content="https://og-image.vercel.app/Next.js%20Blog%20Starter%20Example.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg"/><link rel="canonical" href="https://blog.joostory.net/466"/><title>Electron 시작하기 (4) - package</title><meta property="og:type" content="article"/><meta property="og:title" content="Electron 시작하기 (4) - package"/><meta property="og:description" content="간단한 형태로라도 앱이 만들어졌으니 패키징하고 배포를 해보도록 한다.
Electron을 패키지하는 방법은 소스코드를 asar로 압축해서 electron, node와 함께 실행파일로 묶으면 된다. 사실 개발하면서 electron .로 앱실행하는 거랑 별반 다를 것이 없다. 그럼 그냥 zip으로 압축해서 배포하면 되는거 아닌가 싶지만... 그렇게 하면 다운로드 받아서 실행하기 불편하기도 하고 모양새도 좋지 않다.
공식문서에 이에 대한 설명이 잘 나와있다. "/><meta property="og:image" content="https://t1.daumcdn.net/tistory_admin/static/images/openGraph/opengraph.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Electron 시작하기 (4) - package"/><meta name="twitter:description" content="간단한 형태로라도 앱이 만들어졌으니 패키징하고 배포를 해보도록 한다.
Electron을 패키지하는 방법은 소스코드를 asar로 압축해서 electron, node와 함께 실행파일로 묶으면 된다. 사실 개발하면서 electron .로 앱실행하는 거랑 별반 다를 것이 없다. 그럼 그냥 zip으로 압축해서 배포하면 되는거 아닌가 싶지만... 그렇게 하면 다운로드 받아서 실행하기 불편하기도 하고 모양새도 좋지 않다.
공식문서에 이에 대한 설명이 잘 나와있다. "/><meta property="twitter:image" content="https://t1.daumcdn.net/tistory_admin/static/images/openGraph/opengraph.png"/><meta name="next-head-count" content="15"/><link rel="preload" href="/_next/static/css/11ae7950df9656c6.css" as="style"/><link rel="stylesheet" href="/_next/static/css/11ae7950df9656c6.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-69bfa6990bb9e155.js" defer=""></script><script src="/_next/static/chunks/framework-fc97f3f1282ce3ed.js" defer=""></script><script src="/_next/static/chunks/main-f4ae3437c92c1efc.js" defer=""></script><script src="/_next/static/chunks/pages/_app-f76bbe1730ea85a1.js" defer=""></script><script src="/_next/static/chunks/494-fa03e5491fc3b3a9.js" defer=""></script><script src="/_next/static/chunks/pages/tistory/%5Bid%5D-571a42114028488a.js" defer=""></script><script src="/_next/static/k2SjylS4DhAPzPoZgQ49x/_buildManifest.js" defer=""></script><script src="/_next/static/k2SjylS4DhAPzPoZgQ49x/_ssgManifest.js" defer=""></script><script src="/_next/static/k2SjylS4DhAPzPoZgQ49x/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><div class="min-h-screen"><main><div class=""><div class="pt-40 pb-36 px-20 border-b-[1px] relative"><h1 class="font-bold tracking-tighter leading-tight md:leading-none mb-4 text-center text-3xl">Electron 시작하기 (4) - package</h1><div class="flex justify-center"><em class="text-sm"><time dateTime="2017. 2. 26. 11:58">2017. 2. 26. 11:58</time></em></div></div><div class="w-[650px] pt-10 pb-20 mx-auto"><article class="prose"><p>간단한 형태로라도 앱이 만들어졌으니 패키징하고 배포를 해보도록 한다.</p>
<p>Electron을 패키지하는 방법은 소스코드를 asar로 압축해서 electron, node와 함께 실행파일로 묶으면 된다. 사실 개발하면서 <code>electron .</code>로 앱실행하는 거랑 별반 다를 것이 없다. 그럼 그냥 zip으로 압축해서 배포하면 되는거 아닌가 싶지만... 그렇게 하면 다운로드 받아서 실행하기 불편하기도 하고 모양새도 좋지 않다.</p>
<p><a href="http://electron.atom.io/docs/tutorial/application-distribution/">공식문서</a>에 이에 대한 설명이 잘 나와있다. 이렇게 이걸 얼렁뚱땅 넘어가는 이유는 이 방법은 너무 복잡하고 어렵기 때문이다. 역시나 잘 만들어진 툴을 통해서 쉽게 해결하자.</p>
<h2 id="electron-builder">electron-builder</h2>
<p>대표적인 패키지 라이브러리는 <a href="https://github.com/electron-userland/electron-packager">electron-packager</a>와 <a href="https://github.com/electron-userland/electron-builder">electron-builder</a>가 있다. 처음 사용해봤던 것은 electron-packager인데 편하긴 했지만 앱 아이콘 변경같은 자잘할 설정이 번거로웠다. 그래서 electron-builder를 쓰기로 했다.</p>
<pre><code>&quot;script&quot;: {
    &quot;dist&quot;: &quot;build&quot;,
    &quot;dist-all&quot;: &quot;build --linux --win --mac zip --x64&quot;,
    &quot;dist-mac&quot;: &quot;build -m --x64&quot;,
    &quot;dist-linux&quot;: &quot;build -l --x64&quot;,
    &quot;dist-win&quot;: &quot;build -w --x64&quot;
}
</code></pre><p>내가 사용 중인 build script다. <code>build</code>만 하는 경우 현재 플랫폼(OS)에 해당하는 앱을 만든다. 옵션을 주면 다른 플랫폼용 앱도 만들 수 있는데 이때 몇가지 설치해야하는 것들이 있다. 실행하면 뭐가 없다고 오류가 나니 그걸 설치하면 된다.</p>
<p>맥 스토어용 앱은 오직 맥 OS에서만 빌드가 가능하다. (dmg도 맥에서만 가능하다) 그래서 맥에서 개발하고 맥에서 빌드하면 좀 더 편하다.</p>
<h2 id="icon">icon</h2>
<p>electron-builder는 <code>build/icon.icns</code>파일만 있으면 linux나 window용 아이콘 파일로 변환해준다는데 실제로 해보면 잘 동작하지 않는다. <a href="https://iconverticons.com/online/">아이콘 변환 사이트</a>에서 icns, ico, png 파일들을 각종 크기로 만들어서 <code>build</code>디렉토리 안에 넣어주면 쉽게 해결된다. <a href="https://github.com/joostory/daumblog-editor/tree/master/build">build 디렉토리 구조</a>는 다음과 같이 만들어두면 된다.</p>
<pre><code>build/icon.icns
build/icon.ico
build/icons
├── 16x16.png
├── 24x24.png
├── 32x32.png
├── 48x48.png
├── 64x64.png
├── 96x96.png
├── 128x128.png
└── 256x256.png
</code></pre><hr>
<p>이렇게 모든 과정에 대한 설명이 끝났다. 이 설명은 스스로에게 하는 설명이기도 하다. 생각도 정리하려고 좀 더 electron에 대해서 많이 이해하고 react도 더 많이 이해할 수 있었던 것 같다. 앞으로도 계속 업데이트하면 좋을 것 같다.</p>
            </article></div></div></main></div><footer class="bg-slate-100 border-t border-accent-2 mt-6"><div class="py-4 flex flex-col items-center justify-center text-xs text-slate-500"><a href="https://twitter.com/@JooStory">@JooStory</a></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"id":"466","date":"2017. 2. 26. 11:58","title":"Electron 시작하기 (4) - package","content":"\u003cp\u003e간단한 형태로라도 앱이 만들어졌으니 패키징하고 배포를 해보도록 한다.\u003c/p\u003e\n\u003cp\u003eElectron을 패키지하는 방법은 소스코드를 asar로 압축해서 electron, node와 함께 실행파일로 묶으면 된다. 사실 개발하면서 \u003ccode\u003eelectron .\u003c/code\u003e로 앱실행하는 거랑 별반 다를 것이 없다. 그럼 그냥 zip으로 압축해서 배포하면 되는거 아닌가 싶지만... 그렇게 하면 다운로드 받아서 실행하기 불편하기도 하고 모양새도 좋지 않다.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"http://electron.atom.io/docs/tutorial/application-distribution/\"\u003e공식문서\u003c/a\u003e에 이에 대한 설명이 잘 나와있다. 이렇게 이걸 얼렁뚱땅 넘어가는 이유는 이 방법은 너무 복잡하고 어렵기 때문이다. 역시나 잘 만들어진 툴을 통해서 쉽게 해결하자.\u003c/p\u003e\n\u003ch2 id=\"electron-builder\"\u003eelectron-builder\u003c/h2\u003e\n\u003cp\u003e대표적인 패키지 라이브러리는 \u003ca href=\"https://github.com/electron-userland/electron-packager\"\u003eelectron-packager\u003c/a\u003e와 \u003ca href=\"https://github.com/electron-userland/electron-builder\"\u003eelectron-builder\u003c/a\u003e가 있다. 처음 사용해봤던 것은 electron-packager인데 편하긴 했지만 앱 아이콘 변경같은 자잘할 설정이 번거로웠다. 그래서 electron-builder를 쓰기로 했다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026quot;script\u0026quot;: {\n    \u0026quot;dist\u0026quot;: \u0026quot;build\u0026quot;,\n    \u0026quot;dist-all\u0026quot;: \u0026quot;build --linux --win --mac zip --x64\u0026quot;,\n    \u0026quot;dist-mac\u0026quot;: \u0026quot;build -m --x64\u0026quot;,\n    \u0026quot;dist-linux\u0026quot;: \u0026quot;build -l --x64\u0026quot;,\n    \u0026quot;dist-win\u0026quot;: \u0026quot;build -w --x64\u0026quot;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e내가 사용 중인 build script다. \u003ccode\u003ebuild\u003c/code\u003e만 하는 경우 현재 플랫폼(OS)에 해당하는 앱을 만든다. 옵션을 주면 다른 플랫폼용 앱도 만들 수 있는데 이때 몇가지 설치해야하는 것들이 있다. 실행하면 뭐가 없다고 오류가 나니 그걸 설치하면 된다.\u003c/p\u003e\n\u003cp\u003e맥 스토어용 앱은 오직 맥 OS에서만 빌드가 가능하다. (dmg도 맥에서만 가능하다) 그래서 맥에서 개발하고 맥에서 빌드하면 좀 더 편하다.\u003c/p\u003e\n\u003ch2 id=\"icon\"\u003eicon\u003c/h2\u003e\n\u003cp\u003eelectron-builder는 \u003ccode\u003ebuild/icon.icns\u003c/code\u003e파일만 있으면 linux나 window용 아이콘 파일로 변환해준다는데 실제로 해보면 잘 동작하지 않는다. \u003ca href=\"https://iconverticons.com/online/\"\u003e아이콘 변환 사이트\u003c/a\u003e에서 icns, ico, png 파일들을 각종 크기로 만들어서 \u003ccode\u003ebuild\u003c/code\u003e디렉토리 안에 넣어주면 쉽게 해결된다. \u003ca href=\"https://github.com/joostory/daumblog-editor/tree/master/build\"\u003ebuild 디렉토리 구조\u003c/a\u003e는 다음과 같이 만들어두면 된다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ebuild/icon.icns\nbuild/icon.ico\nbuild/icons\n├── 16x16.png\n├── 24x24.png\n├── 32x32.png\n├── 48x48.png\n├── 64x64.png\n├── 96x96.png\n├── 128x128.png\n└── 256x256.png\n\u003c/code\u003e\u003c/pre\u003e\u003chr\u003e\n\u003cp\u003e이렇게 모든 과정에 대한 설명이 끝났다. 이 설명은 스스로에게 하는 설명이기도 하다. 생각도 정리하려고 좀 더 electron에 대해서 많이 이해하고 react도 더 많이 이해할 수 있었던 것 같다. 앞으로도 계속 업데이트하면 좋을 것 같다.\u003c/p\u003e\n            ","summary":"간단한 형태로라도 앱이 만들어졌으니 패키징하고 배포를 해보도록 한다.\nElectron을 패키지하는 방법은 소스코드를 asar로 압축해서 electron, node와 함께 실행파일로 묶으면 된다. 사실 개발하면서 electron .로 앱실행하는 거랑 별반 다를 것이 없다. 그럼 그냥 zip으로 압축해서 배포하면 되는거 아닌가 싶지만... 그렇게 하면 다운로드 받아서 실행하기 불편하기도 하고 모양새도 좋지 않다.\n공식문서에 이에 대한 설명이 잘 나와있다. ","image":"https://t1.daumcdn.net/tistory_admin/static/images/openGraph/opengraph.png"}},"__N_SSG":true},"page":"/tistory/[id]","query":{"id":"466"},"buildId":"k2SjylS4DhAPzPoZgQ49x","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>