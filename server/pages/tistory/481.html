<!DOCTYPE html><html lang="ko"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="shortcut icon" href="/favicon.ico"/><meta name="description" content="JooStory.net"/><meta property="og:image" content="https://og-image.vercel.app/Next.js%20Blog%20Starter%20Example.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg"/><link rel="canonical" href="https://blog.joostory.net/481"/><title>tinymce plugin 개발</title><meta property="og:type" content="article"/><meta property="og:title" content="tinymce plugin 개발"/><meta property="og:description" content="tinymce는 요새 프리미엄 구독으로 돈을 벌려고 해서 그런지 모르겠지만 좋은 플러그인들은 유료버전에만 제공한다. 물론 그들이 흙파먹고 살 순 없으니 당연한 일이라 생각이 들긴하지만 조금 아쉽긴하다. 필요한 기능이 있는데 그것만을 위해서 돈을 내기에는 좀 아까워서 직접 플러그인을 만들어보기로 했다.
플러그인 제작
공식 문서에는 아주 심플하게 써 있다. plugins에 등록하는 방법, 플러그인 코드를 로드하는 방법, 그리고 플러그인 매니저에 플러그인 코"/><meta property="og:image" content="https://img1.daumcdn.net/thumb/R800x0/?scode=mtistory2&amp;fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F240FE33C590DCBC438"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="tinymce plugin 개발"/><meta name="twitter:description" content="tinymce는 요새 프리미엄 구독으로 돈을 벌려고 해서 그런지 모르겠지만 좋은 플러그인들은 유료버전에만 제공한다. 물론 그들이 흙파먹고 살 순 없으니 당연한 일이라 생각이 들긴하지만 조금 아쉽긴하다. 필요한 기능이 있는데 그것만을 위해서 돈을 내기에는 좀 아까워서 직접 플러그인을 만들어보기로 했다.
플러그인 제작
공식 문서에는 아주 심플하게 써 있다. plugins에 등록하는 방법, 플러그인 코드를 로드하는 방법, 그리고 플러그인 매니저에 플러그인 코"/><meta property="twitter:image" content="https://img1.daumcdn.net/thumb/R800x0/?scode=mtistory2&amp;fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F240FE33C590DCBC438"/><meta name="next-head-count" content="15"/><link rel="preload" href="/_next/static/css/11ae7950df9656c6.css" as="style"/><link rel="stylesheet" href="/_next/static/css/11ae7950df9656c6.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-69bfa6990bb9e155.js" defer=""></script><script src="/_next/static/chunks/framework-fc97f3f1282ce3ed.js" defer=""></script><script src="/_next/static/chunks/main-f4ae3437c92c1efc.js" defer=""></script><script src="/_next/static/chunks/pages/_app-f76bbe1730ea85a1.js" defer=""></script><script src="/_next/static/chunks/494-fa03e5491fc3b3a9.js" defer=""></script><script src="/_next/static/chunks/pages/tistory/%5Bid%5D-571a42114028488a.js" defer=""></script><script src="/_next/static/k2SjylS4DhAPzPoZgQ49x/_buildManifest.js" defer=""></script><script src="/_next/static/k2SjylS4DhAPzPoZgQ49x/_ssgManifest.js" defer=""></script><script src="/_next/static/k2SjylS4DhAPzPoZgQ49x/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><div class="min-h-screen"><main><div class=""><div class="pt-40 pb-36 px-20 border-b-[1px] relative"><h1 class="font-bold tracking-tighter leading-tight md:leading-none mb-4 text-center text-3xl">tinymce plugin 개발</h1><div class="flex justify-center"><em class="text-sm"><time dateTime="2017. 5. 6. 22:21">2017. 5. 6. 22:21</time></em></div></div><div class="w-[650px] pt-10 pb-20 mx-auto"><article class="prose"><p>tinymce는 요새 프리미엄 구독으로 돈을 벌려고 해서 그런지 모르겠지만 좋은 플러그인들은 유료버전에만 제공한다. 물론 그들이 흙파먹고 살 순 없으니 당연한 일이라 생각이 들긴하지만 조금 아쉽긴하다. 필요한 기능이 있는데 그것만을 위해서 돈을 내기에는 좀 아까워서 직접 플러그인을 만들어보기로 했다.</p>
<h2 id="-">플러그인 제작</h2>
<p><a href="https://www.tinymce.com/docs/advanced/creating-a-plugin/">공식 문서</a>에는 아주 심플하게 써 있다. plugins에 등록하는 방법, 플러그인 코드를 로드하는 방법, 그리고 플러그인 매니저에 플러그인 코드를 등록하는 방법 이렇게 세가지를 적어뒀다.</p>
<p>앞의 두가지 방법은 사용법이니 결국 필요한 부분은 다음이다.</p>
<pre><code>tinymce.PluginManager.add(&#39;example&#39;, function(editor, url) {
  // Add a button that opens a window
  editor.addButton(&#39;example&#39;, {
    text: &#39;My button&#39;,
    icon: false,
    onclick: function() {
      // Open window
      editor.windowManager.open({
        title: &#39;Example plugin&#39;,
        body: [
          {type: &#39;textbox&#39;, name: &#39;title&#39;, label: &#39;Title&#39;}
        ],
        onsubmit: function(e) {
          // Insert content when the window form is submitted
          editor.insertContent(&#39;Title: &#39; + e.data.title);
        }
      });
    }
  });
});
</code></pre><h2 id="yeoman-">Yeoman을 사용한 제작</h2>
<p><a href="https://www.tinymce.com/docs/advanced/yeoman-generator/">Yeoman generator</a>를 사용하면 좀 더 쉽게 플러그인 설정을 할 수 있다. 물론 위 코드를 다 만들어주는 게 아니고 build만 하면 결과파일이 나오는 상태로 만들어준다. 게다가 개발 언어를 뭘로 할건지도 세팅해준다. (언어라 함은 ES5, ES6, Typescript 등을 말한다)</p>
<p>webpack-dev-server로 바로 테스트해볼 수 있도록 세팅도 해주니 이걸 사용하지 않을 이유가 없는 것 같다.</p>
<h2 id="tinymce-codeblock-plugin">tinymce codeblock plugin</h2>
<p>나는 뭘 하나 만들어보면서 방법을 익히기 때문에 이번에도 필요한 것을 하나 만드는 것을 목표로 했다. 그건 바로 codeblock 플러그인이다. 이미 codesample이란 플러그인이 있음에도 불구하고 이 플러그인을 만드는 이유는 codesample은 단순한 textarea로 코드를 편집해야하기 때문이다. 탭도 못쓰고 highlight도 안되는 곳에서 코드를 편집하는 것은 너무 귀찮은 일이다.</p>
<p><img src="https://t1.daumcdn.net/cfile/tistory/240FE33C590DCBC438" alt=""></p>
<p><img src="https://t1.daumcdn.net/cfile/tistory/246EA83E590DCCD401" alt=""></p>
<p>처음엔 codesample 플러그인을 고치려고 했지만 tinymce 기본 스킨에서 dialog 내부 element에 대해서 reset을 하는 바람에 codemirror 에디터의 style이 망가져서 도무지 사용할 수가 없었다. 그래서 결국 기능이 동일한 새로운 플러그인을 만들고 여기에 몇가지 확장된 기능을 넣기로 했다. 그런데 아쉽게도 dialog 같은 것은 안써서 전체적인 테마와 약간 다르게 보이긴 한다. 이건 어쩔 수 없다. ㅠ</p>
<p>다른 점은 직접 만든 dialog를 사용했다는 점, textarea대신 <a href="http://codemirror.net">codemirror</a>를 사용했다는 점, <a href="http://prismjs.com">prizm.js</a>대신 <a href="https://highlightjs.org">highlight.js</a>를 사용했다는 점이다. 전체코드는 <a href="https://github.com/joostory/tinymce-plugin-codeblock">github에 공개</a>했다. (이런 거엔 관심가지는 사람 없겠지 ㅠ)</p>
            </article></div></div></main></div><footer class="bg-slate-100 border-t border-accent-2 mt-6"><div class="py-4 flex flex-col items-center justify-center text-xs text-slate-500"><a href="https://twitter.com/@JooStory">@JooStory</a></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"id":"481","date":"2017. 5. 6. 22:21","title":"tinymce plugin 개발","content":"\u003cp\u003etinymce는 요새 프리미엄 구독으로 돈을 벌려고 해서 그런지 모르겠지만 좋은 플러그인들은 유료버전에만 제공한다. 물론 그들이 흙파먹고 살 순 없으니 당연한 일이라 생각이 들긴하지만 조금 아쉽긴하다. 필요한 기능이 있는데 그것만을 위해서 돈을 내기에는 좀 아까워서 직접 플러그인을 만들어보기로 했다.\u003c/p\u003e\n\u003ch2 id=\"-\"\u003e플러그인 제작\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://www.tinymce.com/docs/advanced/creating-a-plugin/\"\u003e공식 문서\u003c/a\u003e에는 아주 심플하게 써 있다. plugins에 등록하는 방법, 플러그인 코드를 로드하는 방법, 그리고 플러그인 매니저에 플러그인 코드를 등록하는 방법 이렇게 세가지를 적어뒀다.\u003c/p\u003e\n\u003cp\u003e앞의 두가지 방법은 사용법이니 결국 필요한 부분은 다음이다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003etinymce.PluginManager.add(\u0026#39;example\u0026#39;, function(editor, url) {\n  // Add a button that opens a window\n  editor.addButton(\u0026#39;example\u0026#39;, {\n    text: \u0026#39;My button\u0026#39;,\n    icon: false,\n    onclick: function() {\n      // Open window\n      editor.windowManager.open({\n        title: \u0026#39;Example plugin\u0026#39;,\n        body: [\n          {type: \u0026#39;textbox\u0026#39;, name: \u0026#39;title\u0026#39;, label: \u0026#39;Title\u0026#39;}\n        ],\n        onsubmit: function(e) {\n          // Insert content when the window form is submitted\n          editor.insertContent(\u0026#39;Title: \u0026#39; + e.data.title);\n        }\n      });\n    }\n  });\n});\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"yeoman-\"\u003eYeoman을 사용한 제작\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://www.tinymce.com/docs/advanced/yeoman-generator/\"\u003eYeoman generator\u003c/a\u003e를 사용하면 좀 더 쉽게 플러그인 설정을 할 수 있다. 물론 위 코드를 다 만들어주는 게 아니고 build만 하면 결과파일이 나오는 상태로 만들어준다. 게다가 개발 언어를 뭘로 할건지도 세팅해준다. (언어라 함은 ES5, ES6, Typescript 등을 말한다)\u003c/p\u003e\n\u003cp\u003ewebpack-dev-server로 바로 테스트해볼 수 있도록 세팅도 해주니 이걸 사용하지 않을 이유가 없는 것 같다.\u003c/p\u003e\n\u003ch2 id=\"tinymce-codeblock-plugin\"\u003etinymce codeblock plugin\u003c/h2\u003e\n\u003cp\u003e나는 뭘 하나 만들어보면서 방법을 익히기 때문에 이번에도 필요한 것을 하나 만드는 것을 목표로 했다. 그건 바로 codeblock 플러그인이다. 이미 codesample이란 플러그인이 있음에도 불구하고 이 플러그인을 만드는 이유는 codesample은 단순한 textarea로 코드를 편집해야하기 때문이다. 탭도 못쓰고 highlight도 안되는 곳에서 코드를 편집하는 것은 너무 귀찮은 일이다.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://t1.daumcdn.net/cfile/tistory/240FE33C590DCBC438\" alt=\"\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://t1.daumcdn.net/cfile/tistory/246EA83E590DCCD401\" alt=\"\"\u003e\u003c/p\u003e\n\u003cp\u003e처음엔 codesample 플러그인을 고치려고 했지만 tinymce 기본 스킨에서 dialog 내부 element에 대해서 reset을 하는 바람에 codemirror 에디터의 style이 망가져서 도무지 사용할 수가 없었다. 그래서 결국 기능이 동일한 새로운 플러그인을 만들고 여기에 몇가지 확장된 기능을 넣기로 했다. 그런데 아쉽게도 dialog 같은 것은 안써서 전체적인 테마와 약간 다르게 보이긴 한다. 이건 어쩔 수 없다. ㅠ\u003c/p\u003e\n\u003cp\u003e다른 점은 직접 만든 dialog를 사용했다는 점, textarea대신 \u003ca href=\"http://codemirror.net\"\u003ecodemirror\u003c/a\u003e를 사용했다는 점, \u003ca href=\"http://prismjs.com\"\u003eprizm.js\u003c/a\u003e대신 \u003ca href=\"https://highlightjs.org\"\u003ehighlight.js\u003c/a\u003e를 사용했다는 점이다. 전체코드는 \u003ca href=\"https://github.com/joostory/tinymce-plugin-codeblock\"\u003egithub에 공개\u003c/a\u003e했다. (이런 거엔 관심가지는 사람 없겠지 ㅠ)\u003c/p\u003e\n            ","summary":"tinymce는 요새 프리미엄 구독으로 돈을 벌려고 해서 그런지 모르겠지만 좋은 플러그인들은 유료버전에만 제공한다. 물론 그들이 흙파먹고 살 순 없으니 당연한 일이라 생각이 들긴하지만 조금 아쉽긴하다. 필요한 기능이 있는데 그것만을 위해서 돈을 내기에는 좀 아까워서 직접 플러그인을 만들어보기로 했다.\n플러그인 제작\n공식 문서에는 아주 심플하게 써 있다. plugins에 등록하는 방법, 플러그인 코드를 로드하는 방법, 그리고 플러그인 매니저에 플러그인 코","image":"https://img1.daumcdn.net/thumb/R800x0/?scode=mtistory2\u0026fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F240FE33C590DCBC438"}},"__N_SSG":true},"page":"/tistory/[id]","query":{"id":"481"},"buildId":"k2SjylS4DhAPzPoZgQ49x","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>